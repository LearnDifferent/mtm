(function(e){function t(t){for(var n,i,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3bd3":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("4de4"),a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dense:"",color:"dark",dark:""}},[a("div",{staticClass:"d-flex align-lg-content-center"},[a("a",{staticStyle:{color:"whitesmoke","text-decoration":"none"},attrs:{href:"https://github.com/LearnDifferent/mtm",target:"_blank"}},[a("span",[a("v-icon",[e._v(" mdi-github ")]),e._v(" GitHub ")],1)])]),a("v-spacer"),a("div",{staticClass:"d-flex justify-center"},[a("v-tabs",{attrs:{"center-active":"",color:"dark"}},[a("v-tab",{attrs:{id:"myHomeBtn"},on:{click:function(t){return e.changePage("/home")}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-home")]),e._v(" Home ")],1),a("v-tab",{attrs:{id:"myFindBtn"},on:{click:function(t){return e.changePage("/find")}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1),a("v-tab",{attrs:{id:"myUserBtn"},on:{click:function(t){return e.changePage("/user")}}},[a("v-badge",{attrs:{value:0==e.hasReadNewSystemNotification||e.newNotificationCount>0,color:"red",dot:""}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-account")]),e._v(" User ")],1)],1)],1)],1),a("div",{staticClass:"text-center d-flex order-last"},[a("v-btn",{attrs:{dark:"",icon:"",small:"",color:"red darken-2"},on:{click:function(t){return e.logoutNow()}}},[a("v-icon",[e._v(" mdi-logout ")])],1)],1),a("v-spacer")],1),a("v-main",[a("router-view")],1)],1)},s=[],i={name:"App",data:function(){return{hasReadNewSystemNotification:!0,newNotificationCount:0}},components:{},methods:{changePage:function(e){this.$router.push({path:e}),"/user"!==e&&this.getNewNotification()},getNewNotification:function(){var e=this;this.axios.get("/system/read").then((function(t){e.hasReadNewSystemNotification=200===t.data.code})),1==this.hasReadNewSystemNotification&&this.axios.get("/notification/count").then((function(t){200===t.data.code&&(e.newNotificationCount=t.data.data)}))},logoutNow:function(){var e=this;confirm("Are you sure you want to sign out?")&&this.axios.get("/logout").then((function(t){200===t.data.code&&(alert("Good Bye"),e.$router.push("/login"))}))}},created:function(){this.getNewNotification()}},r=i,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),m=a("40dc"),h=a("4ca6"),v=a("8336"),g=a("132d"),p=a("f6c4"),f=a("2fa4"),w=a("71a3"),b=a("fe57"),k=Object(c["a"])(r,o,s,!1,null,"1f92082d",null),y=k.exports;d()(k,{VApp:u["a"],VAppBar:m["a"],VBadge:h["a"],VBtn:v["a"],VIcon:g["a"],VMain:p["a"],VSpacer:f["a"],VTab:w["a"],VTabs:b["a"]});var x=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"max-height":"30%","margin-top":"10%"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"40%","max-height":"50%",outlined:"",loading:e.isLoading}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" Sign In ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("div",e._g(e._b({},"div",o,!1),n),[a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px"}},[a("v-text-field",{attrs:{counter:30,rules:e.nameRules,label:"Username",loading:e.isLoading,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.pwdRules,name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:"",loading:e.isLoading},on:{"click:append":function(t){e.show1=!e.show1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)])]}}])},[a("span",[e._v("Case Sensitive")])]),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{rules:e.verification,label:"Verification Code",required:"",loading:e.isLoading},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.getVCode}},[a("v-fade-transition",{attrs:{"leave-absolute":""}},[e.loading?a("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}}):a("img",{staticStyle:{"margin-bottom":"3px"},attrs:{width:"80px",height:"30px",src:e.verCode,alt:"verification code"}})],1)],1)]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticStyle:{"text-align":"center","margin-left":"20px","margin-right":"20px","margin-bottom":"3px"}},[a("v-alert",{attrs:{"close-text":"Close Alert",color:"#8E2323",outlined:"",dense:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.status)+" ")])],1),a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[a("v-btn",{staticClass:"mr-4 text-none",attrs:{disabled:!e.valid||e.isLoading,color:"success"},on:{click:e.validate}},[e._v(" Login ")]),a("v-btn",{staticClass:"mr-4 text-none",attrs:{disabled:e.isLoading,color:"error"},on:{click:e.reset}},[e._v(" Clear ")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("a",{staticStyle:{color:"grey"},attrs:{href:"javascript:void(0);"},on:{click:e.createAccount}},[e._v(" Create an account ")])])],1),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticStyle:{"margin-top":"4px"},attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)},_=[],P=(a("b0c0"),{name:"Login",data:function(){return{isLoading:!1,valid:!0,name:"Guest",nameRules:[function(e){return!!e||"Username is required"},function(e){return e&&e.length<=30||"Username must be less than 30 characters"}],show1:!1,password:"github.com/LearnDifferent/mtm",pwdRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be greater than 8 characters"}],verification:[function(e){return!!e||"Enter the verification code shown in the image"},function(e){return e&&4===e.length||"Enter 4 characters verification code"}],code:"",verCode:"",status:"",processing:!1}},methods:{validate:function(){var e=this;this.$refs.form.validate(),this.isLoading=!0;var t={userName:this.name,password:this.password};this.axios.post("/login",t,{params:{code:this.code,token:localStorage.getItem("verifyToken")}}).then((function(e){if(200===e.data.code){var t=e.data.data.tokenValue,a=e.data.data.tokenName;localStorage.setItem("tokenValue",t),localStorage.setItem("tokenName",a),document.getElementById("myHomeBtn").click()}})).catch((function(t){2006===t.response.data.code&&(e.status=t.response.data.msg),2007===t.response.data.code&&(e.status=t.response.data.msg)})).finally((function(){e.isLoading=!1}))},createAccount:function(){this.$router.push("/register")},reset:function(){this.$refs.form.reset()},getRandomStr:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},getVCode:function(){var e=this,t=this.getRandomStr();localStorage.setItem("verifyToken",t),this.axios.get("/verification/code?time="+(new Date).getTime(),{params:{token:t}}).then((function(t){e.verCode=t.data}))}},created:function(){this.getVCode()}}),T=P,S=a("0798"),N=a("b0af"),V=a("99d9"),D=a("a523"),M=a("0789"),A=a("4bd4"),I=a("490a"),B=a("8e36"),U=a("8654"),j=a("3a2f"),O=Object(c["a"])(T,C,_,!1,null,"74d6afce",null),R=O.exports;d()(O,{VAlert:S["a"],VBtn:v["a"],VCard:N["a"],VCardTitle:V["d"],VContainer:D["a"],VFadeTransition:M["d"],VForm:A["a"],VProgressCircular:I["a"],VProgressLinear:B["a"],VTextField:U["a"],VTooltip:j["a"]});var L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"max-height":"30%","margin-top":"10%"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"40%","max-height":"50%",outlined:"",loading:e.isLoading}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" Sign Up ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px"}},[a("v-text-field",{attrs:{counter:30,rules:e.nameRules,label:"Username",loading:e.isLoading,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.pwdRules,name:"input-10-1",label:"Password",loading:e.isLoading,hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{rules:e.verification,label:"Verification Code",loading:e.isLoading,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.getVCode}},[a("v-fade-transition",{attrs:{"leave-absolute":""}},[e.loading?a("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}}):a("img",{staticStyle:{"margin-bottom":"3px"},attrs:{width:"80px",height:"30px",src:e.verCode,alt:"verification code"}})],1)],1)]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticStyle:{"text-align":"center",margin:"3px 20px"}},[a("v-alert",{attrs:{"close-text":"Close Alert",color:e.alertColor,outlined:"",dense:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("span",{domProps:{innerHTML:e._s(e.status)}})]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showJumpToLogin,expression:"showJumpToLogin"}],staticClass:"ma-2",attrs:{color:"indigo",outlined:"",pill:""},on:{click:e.jumpToLogin}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-outline ")]),e._v(" Click here to Login ")],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showJumpToLogin,expression:"!showJumpToLogin"}],staticStyle:{"text-align":"center","margin-bottom":"10px"}},[a("v-btn",{staticClass:"mr-4 text-none",attrs:{disabled:!e.valid||e.isLoading,color:"success"},on:{click:e.validate}},[e._v(" Create Account ")])],1),a("div",{staticStyle:{"text-align":"center",color:"grey","margin-bottom":"2px"}},[e._v(" Already have an account? "),a("a",{staticStyle:{color:"dimgrey"},attrs:{href:"javascript:void(0);"},on:{click:e.goToSignIn}},[e._v(" Sign in ")])])]),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticStyle:{"margin-top":"4px"},attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)},E=[],F={name:"Register",data:function(){return{isLoading:!1,valid:!0,name:"",nameRules:[function(e){return!!e||"Username is required"},function(e){return e&&e.length<=30||"Username must be less than 30 characters"},function(e){return/^[a-z0-9A-Z]+$/.test(e)||"Username must contain ONLY letters and numbers"}],show1:!1,password:"",pwdRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be greater than 8 characters"},function(e){return e.length<=50||"Password must be less than 50 characters"}],verification:[function(e){return!!e||"Enter the verification code shown in the image"},function(e){return e&&4===e.length||"Enter 4 characters verification code"}],code:"",verCode:"",status:"",success:"",alertColor:"#8E2323",showJumpToLogin:!1}},methods:{validate:function(){var e=this;this.$refs.form.validate(),this.isLoading=!0;var t={userName:this.name,password:this.password};this.axios.post("/user",t,{params:{code:this.code,role:"user",token:localStorage.getItem("verifyToken")}}).then((function(t){500===t.data.code?e.status=t.data.msg:200===t.data.code?(e.status="<b>Success!</b><br>Your new account has been registered.<br>Please click below if you are not redirected in 3 seconds",e.alertColor="green",e.showJumpToLogin=!0,setTimeout((function(){e.$router.push("/login"),e.showJumpToLogin=!1}),3e3)):e.status=t.data.msg})).catch((function(t){t.response.data.code;e.status=t.response.data.msg})).finally((function(){e.isLoading=!1}))},jumpToLogin:function(){this.$router.push("/login"),this.showJumpToLogin=!1},getRandomStr:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},getVCode:function(){var e=this,t=this.getRandomStr();localStorage.setItem("verifyToken",t),this.axios.get("/verification/code?time="+(new Date).getTime(),{params:{token:t}}).then((function(t){e.verCode=t.data}))},goToSignIn:function(){this.$router.push("/login")}},created:function(){this.getVCode()}},W=F,H=a("cc20"),$=Object(c["a"])(W,L,E,!1,null,"5f1bbc36",null),z=$.exports;d()($,{VAlert:S["a"],VBtn:v["a"],VCard:N["a"],VCardTitle:V["d"],VChip:H["a"],VContainer:D["a"],VFadeTransition:M["d"],VForm:A["a"],VIcon:g["a"],VProgressCircular:I["a"],VProgressLinear:B["a"],VTextField:U["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-expansion-panels",{staticStyle:{"margin-top":"1%"}},[a("SendNotificationPanel",{attrs:{"get-system-notifications":e.getSystemNotifications}}),a("v-expansion-panel",{on:{click:e.openLogs}},[a("v-expansion-panel-header",[a("h3",[e._v("View Logs "+e._s(e.isAdmin?"":" (Please Login as Admin)"))])]),!0===e.isAdmin?a("v-expansion-panel-content",[a("v-switch",{attrs:{color:"green",label:e.isReadFromDb?"Get logs from database directly":"Get logs from database and and cache memory"},model:{value:e.isReadFromDb,callback:function(t){e.isReadFromDb=t},expression:"isReadFromDb"}}),a("LogsCard",{attrs:{logs:e.logs}}),a("div",{staticStyle:{"text-align":"center","margin-top":"3px"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1,"getLogs")}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1,"getLogs")}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)],1):e._e(),a("AdminRegisterNotification",{key:e.key,attrs:{"is-admin":e.isAdmin}})],1),a("v-expansion-panel",{on:{click:e.openUsers}},[a("v-expansion-panel-header",[a("h3",[e._v("List All Users "+e._s(e.isAdmin?"":" (Please Login as Admin)"))])]),!0===e.isAdmin?a("v-expansion-panel-content",[a("v-card",[a("v-card-title",[e._v(" Users ")]),a("v-simple-table",{attrs:{"fixed-header":"",height:"500px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(" ID ")]),a("th",{staticClass:"text-left"},[e._v(" Username ")]),a("th",{staticClass:"text-left"},[e._v(" Creation Time ")]),a("th",{staticClass:"text-left"},[e._v(" Role (Edit) ")])])]),a("tbody",e._l(e.users,(function(t){return a("tr",{key:t.userId},[a("td",[e._v(e._s(t.userId))]),a("td",[e._v(e._s(t.userName))]),a("td",[e._v(e._s(e._f("dateFormat")(t.createTime)))]),a("td",[a("v-btn",{staticClass:"text-none",attrs:{"x-small":"",color:"admin"===t.role?"#ecc960":"user"===t.role?"green":"white"},on:{click:function(a){return e.changeUserRole(t.userId,t.userName,t.role)}}},[e._v(" "+e._s("admin"===t.role?"Admin":"user"===t.role?"User":"Guest")+" ")])],1)])})),0)]},proxy:!0}],null,!1,3157760263)})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"3px"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1,"getUsers")}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1,"getUsers")}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)],1):e._e(),a("AdminRegisterNotification",{key:e.key,attrs:{"is-admin":e.isAdmin}})],1),a("v-expansion-panel",{on:{click:e.openVisitedBookmarks}},[a("v-expansion-panel-header",[a("h3",[e._v("List All Visited Bookmarks "+e._s(e.isAdmin?"":" (Please Login as Admin)"))])]),!0===e.isAdmin?a("v-expansion-panel-content",{staticStyle:{"font-size":"small"}},[e._v(" Data will be updated every 12 hours. You can "),a("a",{on:{click:e.updateViews}},[e._v(" click here to "),a("v-btn",{staticClass:"text-none",attrs:{color:"#93ca76","x-small":""}},[a("v-icon",{attrs:{"x-small":""}},[e._v(" mdi-refresh ")]),e._v(" Update Immediately ")],1)],1)]):e._e(),!0===e.isAdmin?a("v-expansion-panel-content",[a("v-card",[a("v-card-title",[e._v(" All Visited Bookmarks "),a("v-spacer")],1),a("v-simple-table",{attrs:{"fixed-header":"",height:"500px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(" Views ")]),a("th",{staticClass:"text-left"},[e._v(" ID ")]),a("th",{staticClass:"text-left"},[e._v(" Title ")]),a("th",{staticClass:"text-left"},[e._v(" Username ")]),a("th",{staticClass:"text-left"},[e._v(" Privacy (Edit) ")])])]),a("tbody",e._l(e.visitedBookmarks,(function(t){return a("tr",{key:t.webId},[a("td",[e._v(e._s(t.views))]),a("td",[e._v(e._s(t.webId))]),a("td",[a("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.title))])]),a("td",[e._v(e._s(t.userName))]),a("td",[a("v-btn",{staticClass:"text-none",attrs:{"x-small":"",color:t.isPublic?"green":"red"},on:{click:function(a){return e.changePrivacy(t.webId,t.userName,t.isPublic)}}},[e._v(" "+e._s(t.isPublic?"Public":"Private")+" ")])],1)])})),0)]},proxy:!0}],null,!1,580806175)})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"3px"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1,"getVisitedBookmarks")}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1,"getVisitedBookmarks")}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)],1):e._e(),a("AdminRegisterNotification",{key:e.key,attrs:{"is-admin":e.isAdmin}})],1)],1)],1)},Y=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.isAdmin,expression:"isAdmin===false"}]},[a("v-expansion-panel-content",[e._v(" Please Login as Admin Or Create New Admin Account ")]),a("v-expansion-panel-content",[a("AdminRegister",{key:e.key})],1)],1)},J=[],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"1%"},attrs:{"max-width":"50%",outlined:"",loading:e.isLoading}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" Admin Registration ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px"}},[a("v-text-field",{attrs:{counter:30,rules:e.nameRules,label:"Username",required:"",loading:e.isLoading},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.pwdRules,name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:"",loading:e.isLoading},on:{"click:append":function(t){e.show1=!e.show1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{label:"Invitation Code",rules:e.adminRule},scopedSlots:e._u([{key:"append",fn:function(){return[[a("v-row",{staticStyle:{"margin-right":"1px"},attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"text-none",attrs:{color:"grey darken-1",dark:""}},"v-btn",o,!1),n),[e._v(" Get Code ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Send invitation code to Email")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1),a("div",[a("span",[a("b",[e._v(" *Click the "),a("a",{on:{click:e.sendEmail}},[e._v("SEND")]),e._v(" button and you will get the invitation code immediately. ")])]),a("br"),a("br"),a("span",{staticStyle:{color:"grey"}},[e._v(" *This application can send invitation code via email. However, the email service is not configured because it's easy to reach the sending limits if the application sends too many emails, which means "),a("b",[e._v("you will not get any email")]),e._v(". ")]),a("br"),a("br"),a("span",{staticStyle:{color:"grey"}},[e._v(" *You can configure your own SMTP server if you want this application to send real emails. "),a("a",{attrs:{href:"https://github.com/LearnDifferent/mtm#email-service",target:"_blank"}},[e._v(" Click here to learn how. ")])])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.dialog=!1}}},[a("span",{staticStyle:{"font-weight":"lighter"}},[e._v("Close")])]),a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:e.sendEmail}},[a("span",{staticStyle:{"font-weight":"bolder"}},[a("b",[e._v("Send")])])])],1)],1)],1)],1)]]},proxy:!0}]),model:{value:e.adminCode,callback:function(t){e.adminCode=t},expression:"adminCode"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{rules:e.verification,label:"Verification Code",required:"",loading:e.isLoading},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.getVCode}},[a("v-fade-transition",{attrs:{"leave-absolute":""}},[e.loading?a("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}}):a("img",{staticStyle:{"margin-bottom":"3px"},attrs:{width:"80px",height:"30px",src:e.verCode,alt:"verification code"}})],1)],1)]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticStyle:{"text-align":"center","margin-left":"20px","margin-right":"20px","margin-bottom":"3px","margin-top":"3px"}},[a("v-alert",{attrs:{"close-text":"Close Alert",color:e.alertColor,outlined:"",dense:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("span",{domProps:{innerHTML:e._s(e.status)}})]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showClickToLogout,expression:"showClickToLogout"}],staticClass:"ma-2",attrs:{color:"red",outlined:"",pill:""},on:{click:e.clickToLogout}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-outline ")]),e._v(" Click here to log out current account ")],1)],1),a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.showClickToLogout,expression:"!showClickToLogout"}],staticClass:"mr-4 text-none",attrs:{disabled:!e.valid||e.isLoading,color:"success"},on:{click:e.validate}},[e._v(" Create new Admin account ")])],1)]),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticStyle:{"margin-top":"4px"},attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)},Z=[],K={name:"AdminRegister",data:function(){return{isLoading:!1,invitationCodeValue:"",adminRule:[function(e){return!!e||"Click 'Get Code' button to get your invitation code"}],adminCode:"",email:"",valid:!0,name:"",nameRules:[function(e){return!!e||"Username is required"},function(e){return e&&e.length<=30||"Username must be less than 30 characters"},function(e){return/^[a-z0-9A-Z]+$/.test(e)||"Username must contain ONLY letters and numbers"}],show1:!1,password:"",pwdRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be greater than 8 characters"},function(e){return e.length<=50||"Password must be less than 50 characters"}],verification:[function(e){return!!e||"Enter the verification code shown in the image"},function(e){return e&&4===e.length||"Enter 4 characters verification code"}],code:"",verCode:"",dialog:!1,status:"",alertColor:"#8E2323",showClickToLogout:!1}},methods:{sendEmail:function(){var e=this,t=this.getRandomStr();localStorage.setItem("invitationToken",t),this.axios.get("/verification/invitation-code",{params:{email:this.email,token:t}}).then((function(e){alert("Sent. Please check your Email.")})).catch((function(t){if(3008==t.response.data.code){var a=t.response.data.data;alert("Your Invitation Code is: "+a),e.adminCode=a}else alert(t.response.data.msg)})).finally((function(){e.dialog=!1}))},clickToLogout:function(){var e=this;confirm("Are you sure you want to sign out?")&&this.axios.get("/logout").then((function(t){200===t.data.code&&(alert("Bye~"),e.showClickToLogout=!1,e.$router.push("/login"))}))},getRandomStr:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},getVCode:function(){var e=this,t=this.getRandomStr();localStorage.setItem("verifyToken",t),this.axios.get("/verification/code?time="+(new Date).getTime(),{params:{token:t}}).then((function(t){e.verCode=t.data}))},validate:function(){var e=this;this.$refs.form.validate(),this.isLoading=!0;var t={userName:this.name,password:this.password,role:"admin"};this.axios.post("/user",t,{params:{code:this.code,role:"admin",invitationCode:this.adminCode,token:localStorage.getItem("verifyToken"),invitationToken:localStorage.getItem("invitationToken")}}).then((function(t){500===t.data.code?e.status=t.data.msg:200===t.data.code?(e.status="<b>Success!</b><br>New admin account has been registered.<br>You can login as admin after logging out current account.",e.alertColor="green",e.showClickToLogout=!0):e.status=t.data.msg})).catch((function(t){t.response.data.code;e.status=t.response.data.msg})).finally((function(){e.isLoading=!1}))}},created:function(){this.getVCode()}},Q=K,ee=a("62ad"),te=a("169a"),ae=a("0fd9"),ne=Object(c["a"])(Q,X,Z,!1,null,null,null),oe=ne.exports;d()(ne,{VAlert:S["a"],VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VCardText:V["c"],VCardTitle:V["d"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VDialog:te["a"],VFadeTransition:M["d"],VForm:A["a"],VIcon:g["a"],VProgressCircular:I["a"],VProgressLinear:B["a"],VRow:ae["a"],VSpacer:f["a"],VTextField:U["a"]});var se={name:"AdminRegisterNotification",components:{AdminRegister:oe},props:{isAdmin:{},key:{}}},ie=se,re=a("49e2"),ce=Object(c["a"])(ie,G,J,!1,null,null,null),le=ce.exports;d()(ce,{VExpansionPanelContent:re["a"]});var de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",[a("v-expansion-panel-header",[a("h3",[e._v("Send System Notifications")])]),a("v-expansion-panel-content",{staticStyle:{"font-size":"small"}},[e._v(" *Every user has the ability to send notifications ")]),a("v-expansion-panel-content",{staticStyle:{"font-size":"small"}},[e._v(" *Users with Admin privilege have the ability to send push notifications ")]),a("v-expansion-panel-content",{staticStyle:{"font-size":"small"}},[e._v(" *Guest can't delete system notifications ")]),a("v-expansion-panel-content",{staticStyle:{"font-size":"small"}},[e._v(" *The limit for system notifications is 20 ")]),a("v-expansion-panel-content",[a("v-textarea",{attrs:{name:"input-7-1",filled:"",color:"grey",label:"Notification Editor","auto-grow":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toSendNotify(t)}},model:{value:e.noticeCon,callback:function(t){e.noticeCon=t},expression:"noticeCon"}}),a("v-btn",{staticClass:"mr-4 text-none",attrs:{color:"success"},on:{click:e.sendNotify}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-send ")]),e._v(" Send ")],1),a("v-btn",{staticClass:"mr-4 text-none",on:{click:e.getSystemNotifications}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-email-open-outline ")]),e._v(" View System Notifications ")],1),a("v-btn",{staticClass:"mr-4 text-none",attrs:{color:"error"},on:{click:e.delNotify}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" Delete All System Notifications ")],1)],1)],1)},ue=[],me=(a("498a"),{name:"SendNotificationPanel",data:function(){return{noticeCon:""}},methods:{delNotify:function(){confirm("Remove All System Notifications?")&&this.axios.delete("/system").then((function(e){200==e.data.code?alert("Deleted"):alert("Please wait a minute before you try again")})).catch((function(e){2009===e.response.data.code&&alert("You are now login as Guest: Guest can't delete system notifications\n\nPlease login as Standard User or Admin to delete system notifications")}))},sendNotify:function(){""==this.noticeCon.trim()?alert("Please enter something.."):(this.axios.get("/system/send",{params:{message:this.noticeCon}}).then((function(e){alert(e.data.msg)})),this.noticeCon="")},toSendNotify:function(){this.sendNotify()}},props:{getSystemNotifications:{}}}),he=me,ve=a("cd55"),ge=a("c865"),pe=a("a844"),fe=Object(c["a"])(he,de,ue,!1,null,null,null),we=fe.exports;d()(fe,{VBtn:v["a"],VExpansionPanel:ve["a"],VExpansionPanelContent:re["a"],VExpansionPanelHeader:ge["a"],VIcon:g["a"],VTextarea:pe["a"]});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Logs ")]),a("v-simple-table",{attrs:{"fixed-header":"",height:"500px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(" Time ")]),a("th",{staticClass:"text-left"},[e._v(" Title ")]),a("th",{staticClass:"text-left"},[e._v(" Method ")]),a("th",{staticClass:"text-left"},[e._v(" Option Type ")]),a("th",{staticClass:"text-left"},[e._v(" Status ")]),a("th",{staticClass:"text-left"},[e._v(" Message ")])])]),a("tbody",e._l(e.logs,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(e._f("dateFormat")(t.optTime)))]),a("td",[e._v(e._s(t.title))]),a("td",[e._v(e._s(t.method))]),a("td",[e._v(e._s(t.optType))]),a("td",[e._v(e._s(t.status))]),a("td",[e._v(e._s(t.msg))])])})),0)]},proxy:!0}])})],1)},ke=[],ye={name:"LogsCard",props:{logs:{}}},xe=ye,Ce=a("1f4f"),_e=Object(c["a"])(xe,be,ke,!1,null,null,null),Pe=_e.exports;d()(_e,{VCard:N["a"],VCardTitle:V["d"],VSimpleTable:Ce["a"]});var Te={name:"Admin",components:{LogsCard:Pe,SendNotificationPanel:we,AdminRegisterNotification:le},data:function(){return{currentPage:1,isAdmin:!1,key:1,logs:[],users:[],visitedBookmarks:[],isReadFromDb:!1}},methods:{getRandomStr:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},checkAdmin:function(){var e=this,t=this.getRandomStr();localStorage.setItem("verifyToken",t),this.axios.get("/user/admin").then((function(t){e.isAdmin=200===t.data.code})).catch((function(t){2009===t.response.data.code?e.getVCode():alert(t.response.data.msg)}))},changePage:function(e,t){-1===e&&1===this.currentPage||(this.currentPage+=e,"getLogs"===t&&this.getLogs(),"getUsers"===t&&this.getUsers(),"getVisitedBookmarks"===t&&this.getVisitedBookmarks())},maxPageCheckAndReturnArrayHasNewValue:function(e){return null!==e&&0!==e.length||(this.currentPage>1&&(this.currentPage-=1),alert("No More Data"),!1)},resetPageData:function(){this.key++,this.currentPage=1},openUsers:function(){this.resetPageData(),this.getUsers()},getUsers:function(){var e=this;this.axios.get("/user/all?currentPage="+this.currentPage).then((function(t){var a=t.data,n=e.maxPageCheckAndReturnArrayHasNewValue(a);!0===n&&(e.users=a)})).catch((function(t){2009===t.response.data.code?e.isAdmin=!1:alert(t.response.data.msg)}))},changeUserRole:function(e,t,a){if("guest"!==a){var n,o;if("admin"===a)n="Do you want to Downgrade '"+t+"' from Admin to Standard User?",o="user";else{if("user"!==a)return void alert("You don't have permission to modify this user");n="Do you want to Upgrade '"+t+"' from Standard User to Admin?",o="admin"}confirm(n)&&this.sendChangeUserRoleRequest(e,o)}else alert("You don't have permission to modify the Guest")},sendChangeUserRoleRequest:function(e,t){var a=this;this.axios.get("/user/role",{params:{userId:e,newRole:t}}).then((function(e){200===e.data.code&&a.getUsers(),alert(e.data.msg)})).catch((function(e){alert(e.response.data.msg)}))},openLogs:function(){this.resetPageData(),this.getLogs()},getLogs:function(){var e=this,t="/system/logs";this.isReadFromDb&&(t+="/no-cache"),this.axios.get(t,{params:{currentPage:this.currentPage}}).then((function(t){if(200===t.data.code){var a=t.data.data,n=e.maxPageCheckAndReturnArrayHasNewValue(a);!0===n&&(e.logs=a)}else alert("Something went wrong...")})).catch((function(t){2009===t.response.data.code?e.isAdmin=!1:alert(t.response.data.msg)}))},openVisitedBookmarks:function(){this.resetPageData(),this.getVisitedBookmarks()},getVisitedBookmarks:function(){var e=this;this.axios.get("/bookmark/visited-bookmarks?currentPage="+this.currentPage).then((function(t){var a=t.data,n=e.maxPageCheckAndReturnArrayHasNewValue(a);!0===n&&(e.visitedBookmarks=a)})).catch((function(t){2009===t.response.data.code?e.isAdmin=!1:alert(t.response.data.msg)}))},changePrivacy:function(e,t,a){var n=this,o=a?"private":"public";confirm("Are you sure you want to make it "+o+" ?")&&this.axios.get("/bookmark/privacy",{params:{webId:e}}).then((function(e){200===e.data.code||500===e.data.code?(alert(e.data.msg),n.getVisitedBookmarks()):alert("Something went wrong... Please try again later.")})).catch((function(e){2009===e.response.data.code||2001===e.response.data.code?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))},updateViews:function(){var e=this;confirm("Are you sure you want to update now? It might take a long time.")&&this.axios.get("/view/update").then((function(t){if(200===t.data.code){var a=t.data.data;null===a||0===a.length?alert("Success"):alert("Not Fully Successful.\nHere are the keys that failed to update: \n\n"+a+"\n\nYou can check the keys in Redis to fix the error."),e.getVisitedBookmarks()}else alert("Something went wrong...")})).catch((function(e){alert(e.response.data.msg)}))}},props:{getSystemNotifications:{}},created:function(){this.checkAdmin()}},Se=Te,Ne=a("0393"),Ve=a("b73d"),De=Object(c["a"])(Se,q,Y,!1,null,null,null),Me=De.exports;d()(De,{VBtn:v["a"],VCard:N["a"],VCardTitle:V["d"],VContainer:D["a"],VExpansionPanel:ve["a"],VExpansionPanelContent:re["a"],VExpansionPanelHeader:ge["a"],VExpansionPanels:Ne["a"],VIcon:g["a"],VSimpleTable:Ce["a"],VSpacer:f["a"],VSwitch:Ve["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"fill-height":""}},[a("MarkUrl",{attrs:{username:e.currentUser},on:{showRefresh:e.showRefresh}}),a("v-divider"),a("br"),a("HomePageButtons",{attrs:{"current-user":e.currentUser,"find-all":e.findAll,"find-mine":e.findMine,"find-others":e.findOthers,"is-out":e.isOut,recent:e.recent,"to-user-name":e.toUserName}}),a("br"),a("v-container",{staticClass:"mx-auto"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.refreshShow,expression:"refreshShow"}],attrs:{block:"",color:"orange",outlined:"",rounded:""},on:{click:e.refreshPage}},[a("v-icon",[e._v("mdi-cached")]),a("span",[e._v(" Something new...")])],1),a("v-row",{attrs:{dense:""}},e._l(e.items,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",{attrs:{id:t.webId},on:{mouseenter:function(a){e.onThisWebData=t.webId},mouseleave:function(t){e.onThisWebData=-1}}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("BookmarkTitle",{attrs:{item:t}}),a("v-card-actions",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.userName,expression:"item.userName"}],on:{mouseover:function(a){e.showExcludeUserBtn=t.webId},mouseleave:function(t){e.showExcludeUserBtn=-1}}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"black",label:"",outlined:""}},[a("v-icon",{attrs:{left:""},on:{click:function(a){return e.toUser(t.userName)}}},[e._v(" "+e._s(e.currentUser==t.userName?"mdi-account-check":"mdi-account")+" ")]),a("span",{style:e.onThisWebData==t.webId?"color: black":"color: grey",on:{click:function(a){return e.toUser(t.userName)}}},[e._v(" "+e._s(t.userName)+" ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!("others"===e.isOut),expression:"!(isOut === 'others')"}]},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showExcludeUserBtn==t.webId,expression:"showExcludeUserBtn == item.webId"}],attrs:{icon:"",small:"",color:"pink"},on:{click:function(a){return e.dontShowUser(t.userName)}}},[a("v-icon",[e._v("mdi-eye-off-outline")])],1)],1)],1)],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.currentUser!=t.userName,expression:"currentUser!=item.userName"}],staticStyle:{"margin-right":"3px"},attrs:{color:"green",outlined:""},on:{click:function(a){return e.mark(t)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-heart-plus ")]),e._v(" Add ")],1),a("BookmarkPrivacy",{directives:[{name:"show",rawName:"v-show",value:e.currentUser==t.userName,expression:"currentUser==item.userName"}],attrs:{"is-public":t.isPublic,"web-id":t.webId,"user-name":t.userName,id:t.webId}}),a("BookmarkViewButton",{attrs:{item:t}}),a("BookmarkCommentButton",{key:t.webId,attrs:{item:t,"show-comment":e.showComment},on:{openComment:e.openComment}}),a("BookmarkTagButton",{key:t.webId,attrs:{item:t,"current-user":e.currentUser,"previous-page-num":e.currentPage,"previous-page":"home"}}),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.currentUser==t.userName&&e.onThisWebData==t.webId,expression:"currentUser == item.userName && onThisWebData == item.webId"}],staticStyle:{"margin-right":"3px"},attrs:{color:"red",outlined:""},on:{click:function(a){return e.delWeb(t.webId,n)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-trash-can-outline ")]),e._v(" Delete ")],1),a("BookmarkTime",{directives:[{name:"show",rawName:"v-show",value:e.onThisWebData==t.webId,expression:"onThisWebData == item.webId"}],attrs:{creationTime:t.createTime}})],1)],1),a("BookmarkPic",{attrs:{item:t}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showComment==t.webId,expression:"showComment == item.webId"}]},[a("Comment",{attrs:{realWebId:t.webId,webId:e.showComment,currentUsername:e.currentUser}})],1)],1)})),1),a("NoDataInHomePage",{attrs:{"refresh-page":e.refreshPage,"total-page":e.totalPage}}),a("ToTopButton"),a("v-row",{directives:[{name:"show",rawName:"v-show",value:0!==e.totalPage,expression:"totalPage !== 0"}],attrs:{"align-content":"center"}},[a("v-col",[a("v-pagination",{attrs:{length:e.totalPage,circle:""},on:{input:function(t){return e.loadHome(e.currentPage)}},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)},Ie=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"border-radius":"25px","margin-top":"2%",border:"2px solid #84a2d4",padding:"20px"}},[a("v-chip",{staticStyle:{"margin-bottom":"1%"},attrs:{color:"#84a2d4",outlined:"",label:""}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-comment-text-outline ")]),e._v(" Comments ")],1),a("v-textarea",{directives:[{name:"show",rawName:"v-show",value:!e.replyMode,expression:"!replyMode"}],staticStyle:{"margin-bottom":"2%"},attrs:{label:"Write a comment...",counter:"",rules:e.commentRule,"auto-grow":"","prepend-inner-icon":"mdi-send",color:"#84a2d4",outlined:"",rows:"1","row-height":"15"},on:{"click:prepend-inner":e.confirmSendComment},model:{value:e.commentValue,callback:function(t){e.commentValue=t},expression:"commentValue"}}),a("v-row",[a("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.replyMode,expression:"!replyMode"}]},[a("v-row",[a("div",{staticStyle:{"margin-left":"1%"}},[a("v-btn",{attrs:{color:"#6c848d",rounded:"",outlined:"",disabled:!e.commentValue||e.commentValue.length>140},on:{click:e.confirmSendComment}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-send")]),e._v(" Send ")],1)],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("OpenCommentAreaButton",{attrs:{"comment-count":e.commentCount,"show-comment-area":e.showCommentArea,"show-comments-func":e.showCommentsFunc}}),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:e.showCommentArea,expression:"showCommentArea"}],staticClass:"mx-2",attrs:{vertical:""}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommentArea,expression:"showCommentArea"}]},[a("v-btn",{staticClass:"text-none",attrs:{rounded:"",outlined:"",color:"#b88884",dark:""},on:{click:e.changeOrder}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.isDesc?"mdi-sort-descending":"mdi-sort-ascending")+" ")]),e._v(" "+e._s(e.isDesc?"Descending":"Ascending")+" ")],1)],1)],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.replyMode,expression:"replyMode"}],attrs:{cols:"12"}},[a("ReplyToThisComment",{attrs:{c:e.replyToThisCommentContent,currentUsername:e.currentUsername},on:{goBackFromReplies:e.goBackFromReplies,changeOrder:e.changeOrder}})],1),e._l(e.comments,(function(t,n){return a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.showCommentArea,expression:"showCommentArea"}],attrs:{cols:"12"}},[a("div",{style:e.editOrReplyCommentId==t.commentId||e.historyCommentId===t.commentId?"border-radius: 25px;margin-top: 2%;border: 2px solid #82ae46;padding: 20px;":""},[a("v-card",{attrs:{color:e.prominentCommentId===t.commentId?"#ee827c":"#e7e7eb",id:"comment-"+t.commentId},on:{mouseover:function(a){e.onThisComment=t.commentId}}},[a("v-card-text",[a("p",[a("v-btn",{staticClass:"text-none",attrs:{"x-small":"",color:"#6c848d",rounded:""},on:{click:function(a){return e.openEditCommentOrReply(t.comment,t.commentId,!1)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-reply")]),e._v(" Reply ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.history.length>0,expression:"c.history.length > 0"}],staticClass:"text-none",attrs:{"x-small":"",color:"#5c9291",rounded:""},on:{click:function(a){return e.getHistory(t.commentId,t.history)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-clock")]),e._v(" Edit History ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.currentUsername==t.username?"mdi-account-check":"mdi-account-outline")+" ")]),e._v(" "+e._s(t.username)+" "),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-icon",{attrs:{left:""}},[e._v(" mdi-clock-outline ")]),e._v(" "+e._s(e._f("dateFormat")(t.creationTime))+" "),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:e.currentUsername==t.username&&e.onThisComment==t.commentId,expression:"currentUsername == c.username && onThisComment == c.commentId"}],staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.currentUsername==t.username&&e.onThisComment==t.commentId,expression:"currentUsername == c.username && onThisComment == c.commentId"}],staticClass:"text-none",attrs:{"x-small":"",color:"#82ae46",rounded:""},on:{click:function(a){return e.openEditCommentOrReply(t.comment,t.commentId,!0)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-tooltip-edit-outline")]),e._v(" Edit ")],1),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:e.currentUsername==t.username&&e.onThisComment==t.commentId,expression:"currentUsername == c.username && onThisComment == c.commentId"}],staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.currentUsername==t.username&&e.onThisComment==t.commentId,expression:"currentUsername == c.username && onThisComment == c.commentId"}],staticClass:"text-none",attrs:{"x-small":"",color:"#e83929",rounded:""},on:{click:function(a){return e.deleteComment(t.commentId,n)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-delete-outline")]),e._v(" Delete ")],1)],1),a("p",[e._v(e._s(t.comment))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.repliesCount>0,expression:"c.repliesCount > 0"}]},[a("v-chip",{attrs:{label:"",small:"",color:"#abced8"},on:{click:function(a){return e.showReplies(t)}}},[e._v(" "+e._s(t.repliesCount)+" more "+e._s(1===t.repliesCount?"reply ...":"replies ...")+" ")])],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.historyCommentId===t.commentId,expression:"historyCommentId === c.commentId"}]},[a("v-btn",{staticClass:"text-none",staticStyle:{"margin-top":"2%"},attrs:{large:"",block:"",color:"#80989b"},on:{click:function(t){e.historyCommentId=-1}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),e._v(" Viewing Edit History. Click Here to Close. ")],1),e._l(e.commentHistory,(function(n){return a("v-card",{staticStyle:{"margin-top":"2%"},attrs:{color:"#8b968d",id:"comment-history-"+t.commentId}},[a("v-card-text",[a("p",[a("span",{staticStyle:{color:"#5a544b"}},[e._v(e._s(e._f("dateFormat")(n.creationTime)))])]),a("p",[e._v(e._s(n.comment))])])],1)}))],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.editOrReplyCommentId==t.commentId,expression:"editOrReplyCommentId == c.commentId"}],staticStyle:{"margin-top":"2%"}},[a("v-textarea",{attrs:{label:e.trueEditFalseReply?"Edit Comment":"Reply to a Comment",counter:"",rules:e.commentRule,"auto-grow":"","prepend-inner-icon":"mdi-send",color:"#84a2d4",outlined:"",rows:"1","row-height":"15"},on:{"click:prepend-inner":function(a){return e.sendEditCommentOrReply(t)}},model:{value:e.editOrReplyCommentValue,callback:function(t){e.editOrReplyCommentValue=t},expression:"editOrReplyCommentValue"}}),a("v-btn",{staticClass:"text-none",attrs:{color:"#6c848d",outlined:"",disabled:!e.editOrReplyCommentValue||e.editOrReplyCommentValue.length>140},on:{click:function(a){return e.sendEditCommentOrReply(t)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-send")]),e._v(" "+e._s(e.trueEditFalseReply?"Save":"Reply")+" ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{staticClass:"text-none",attrs:{color:"#ee827c",outlined:""},on:{click:function(t){return e.openEditCommentOrReply("",-1)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle-outline")]),e._v(" Cancel ")],1)],1)],1)])})),a("v-col",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],attrs:{block:"",color:"#84a2d4"},on:{click:e.getComment}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-refresh ")]),e._v(" More ")],1)],1)],2)],1)},Ue=[],je=(a("a434"),a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"2%"}},[a("v-card",{attrs:{id:e.c.commentId,dark:""}},[a("v-card-text",[a("p",[a("v-btn",{staticClass:"text-none",staticStyle:{"margin-right":"2%"},attrs:{"x-small":"",color:"#d3381c",rounded:""},on:{click:e.goBack}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-keyboard-return")]),e._v(" Back ")],1),a("v-btn",{staticClass:"text-none",staticStyle:{"margin-right":"2%"},attrs:{"x-small":"",color:"#99ab4e",rounded:""},on:{click:e.orderChange}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-restore")]),e._v(" Order ")],1),a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.currentUsername==e.c.username?"mdi-account-check":"mdi-account-outline")+" ")]),e._v(" "+e._s(e.c.username)+" "),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-icon",{attrs:{left:""}},[e._v(" mdi-clock-outline ")]),e._v(" "+e._s(e._f("dateFormat")(e.c.creationTime))+" ")],1),a("p",[e._v(e._s(e.c.comment))])])],1),a("hr",{staticClass:"hr-solid-content",attrs:{"data-content":e.c.repliesCount>1?"Replies":"Reply"}})],1)}),Oe=[],Re={name:"ReplyToThisComment",data:function(){return{c:"",currentUsername:""}},methods:{goBack:function(){this.$emit("goBackFromReplies")},orderChange:function(){this.$emit("changeOrder")}},props:{c:{type:Array,required:!0},currentUsername:{type:String,required:!0}}},Le=Re,Ee=(a("a25b"),a("ce7e")),Fe=Object(c["a"])(Le,je,Oe,!1,null,"38c11221",null),We=Fe.exports;d()(Fe,{VBtn:v["a"],VCard:N["a"],VCardText:V["c"],VDivider:Ee["a"],VIcon:g["a"]});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{staticClass:"text-none",attrs:{rounded:"",outlined:"",color:e.showCommentArea?"#d0576b":"#5b7e91",dark:""},on:{click:e.showCommentsFunc}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.showCommentArea?"mdi-comment-remove-outline":"mdi-comment-processing-outline")+" ")]),e._v(" "+e._s(e.showCommentArea?"Close":e.commentCount>=0?"Show Comment ("+e.commentCount+")":"Show Comment")+" ")],1)],1)},$e=[],ze={name:"OpenCommentAreaButton",props:{commentCount:{},showCommentArea:{},showCommentsFunc:{}}},qe=ze,Ye=Object(c["a"])(qe,He,$e,!1,null,null,null),Ge=Ye.exports;d()(Ye,{VBtn:v["a"],VIcon:g["a"]});var Je={components:{OpenCommentAreaButton:Ge,ReplyToThisComment:We},name:"Comment",data:function(){return{isDesc:!0,load:10,count:0,currentUsername:"",commentRule:[function(e){return e.length<=140||"140-character limit"}],onThisComment:-1,webId:-1,showCommentArea:!1,commentValue:"",editOrReplyCommentValue:"",editOrReplyCommentId:-1,trueEditFalseReply:!0,comments:"",noMoreResults:!1,replyToThisCommentContent:null,replyMode:!1,commentCount:0,prominentCommentId:-1,historyCommentId:-1,commentHistory:[]}},props:{webId:{type:Number,required:!0},realWebId:{},currentUsername:{type:String,required:!0}},computed:{showMore:function(){return 0!==this.count&&this.count%10===0&&this.showCommentArea&&!this.noMoreResults}},created:function(){this.countComment()},methods:{countComment:function(){var e=this;this.axios.get("/comment/get/number/"+this.realWebId).then((function(t){200===t.data.code&&(e.commentCount=t.data.data)})).catch((function(e){}))},resetDataAndGetComments:function(e,t){this.editOrReplyCommentId=-1,this.editOrReplyCommentValue="",this.load=10,this.count=0,this.getComment(e,t)},showReplies:function(e,t){this.replyMode=!0,this.replyToThisCommentContent=e,this.resetDataAndGetComments(!1,t)},goBackFromReplies:function(){var e=this.replyToThisCommentContent.replyToCommentId;this.getCommentByIdForGoingBack(e),this.resetDataAndGetComments(!0)},getCommentByIdForGoingBack:function(e){var t=this;this.axios.get("/comment",{params:{commentId:e,webId:this.realWebId}}).then((function(e){var a=e.data.code;200===a?t.replyToThisCommentContent=e.data.data:500===a?(t.replyMode=!1,t.replyToThisCommentContent=null,t.resetDataAndGetComments()):(alert("Something went wrong."),t.replyToThisCommentContent=null,t.resetDataAndGetComments())})).catch((function(e){alert("Something went wrong."),t.replyToThisCommentContent=null,t.resetDataAndGetComments()}))},openEditCommentOrReply:function(e,t,a){null!=a&&(this.trueEditFalseReply=a),this.trueEditFalseReply||(e=""),this.editOrReplyCommentValue=e,this.editOrReplyCommentId=t},sendEditCommentOrReply:function(e){if(this.trueEditFalseReply)e.webId=this.webId,e.comment=this.editOrReplyCommentValue,this.sendEditComment(e);else{var t=this.editOrReplyCommentValue,a=this.webId,n=(this.currentUsername,e.commentId);this.sendComment(t,a,n)}},sendEditComment:function(e){var t=this;this.axios.post("/comment",e).then((function(e){200==e.data.code||500==e.data.code?alert(e.data.msg):alert("Something went wrong. Please try again later.")})).catch((function(e){var t=e.response.data.code;2009===t||3012===t||2001==t||3010==t||3011==t?alert(e.response.data.msg):3009==t?alert("No change has been made"):alert("Something went wrong... Please try again later.")})).finally((function(){t.resetDataAndGetComments()}))},deleteComment:function(e,t){var a=this;confirm("Are you sure you want to delete this comment?")&&this.axios.delete("/comment",{params:{commentId:e}}).then((function(e){200==e.data.code?(alert(e.data.msg),a.comments.splice(t,1)):alert("You can't delete this comment")})).catch((function(e){var t=e.response.data.code;2009===t||3012===t?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))},showCommentsFunc:function(){this.showCommentArea=!this.showCommentArea,this.showCommentArea?this.getComment():(this.load=10,this.count=0),this.noMoreResults&&10!==this.load&&alert("No More Comments")},changeOrder:function(){this.isDesc=!this.isDesc,this.resetDataAndGetComments()},getComment:function(e,t){var a=this,n=null;null!=this.replyToThisCommentContent&&(n=this.replyToThisCommentContent.commentId),null!=this.replyToThisCommentContent&&!0===e&&(n=this.replyToThisCommentContent.replyToCommentId);var o=this.load;!0===t&&(o=-1),this.axios.get("/comment/get/"+this.webId,{params:{load:o,order:this.isDesc?"desc":"asc",replyToCommentId:n}}).then((function(e){if(200==e.data.code){a.comments=e.data.data,console.log(a.comments);var t=a.comments.length;0==t?(a.load=10,a.count=0,a.showCommentArea=!1,a.noMoreResults=!0):t===a.count?a.noMoreResults=!0:(a.count=t,a.load+=10,a.noMoreResults=!1)}else a.load=10,a.count=0,a.showCommentArea=!1,a.noMoreResults=!1})).catch((function(e){alert(e.response.data.msg),a.load=10,a.count=0,a.showCommentArea=!1,a.noMoreResults=!1}))},confirmSendComment:function(){if(confirm("Send this comment?")){var e=this.commentValue,t=this.webId;this.sendComment(e,t)}},sendComment:function(e,t,a){var n=this;this.axios.get("/comment/create",{params:{comment:e,webId:t,replyToCommentId:a}}).then((function(e){200==e.data.code?(alert(e.data.msg),n.commentValue=""):500==e.data.code?alert(e.data.msg):alert("Something went wrong. Please try again later.")})).catch((function(e){var t=e.response.data.code;2009==t||3009==t||2001==t||3010==t||3011==t||3012==t?alert(e.response.data.msg):alert("Something went wrong. Please try again later.")})).finally((function(){n.showCommentArea&&n.resetDataAndGetComments()}))},openCommentFromOutside:function(e,t,a){this.showCommentArea=!0,e?this.getComment(!1,!0):this.showReplies(a,!0),this.prominentCommentId=t,setTimeout((function(){var e="#comment-"+t;document.querySelector(e).scrollIntoView(!0)}),500)},getHistory:function(e,t){this.historyCommentId=e,this.commentHistory=t}}},Xe=Je,Ze=Object(c["a"])(Xe,Be,Ue,!1,null,null,null),Ke=Ze.exports;d()(Ze,{VBtn:v["a"],VCard:N["a"],VCardText:V["c"],VChip:H["a"],VCol:ee["a"],VDivider:Ee["a"],VIcon:g["a"],VRow:ae["a"],VTextarea:pe["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"border-radius":"25px",border:"2px solid grey",padding:"20px"}},[a("v-text-field",{attrs:{label:"Paste a Website Link (URL) here"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveNewWeb(t)}},model:{value:e.newWebUrl,callback:function(t){e.newWebUrl=t},expression:"newWebUrl"}}),a("div",[a("v-switch",{attrs:{color:"green",label:e.publicPrivacy?"Public: Anyone on this website":"Private: Only Me","prepend-icon":e.publicPrivacy?"mdi-earth":"mdi-lock"},model:{value:e.publicPrivacy,callback:function(t){e.publicPrivacy=t},expression:"publicPrivacy"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.publicPrivacy,expression:"publicPrivacy"}]},[a("v-switch",{attrs:{color:"green","prepend-icon":e.addToSearch?"mdi-magnify":"mdi-magnify-minus",label:e.addToSearch?"Make it searchable":"Don't make it searchable"},model:{value:e.addToSearch,callback:function(t){e.addToSearch=t},expression:"addToSearch"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addToSearch,expression:"addToSearch"}],staticStyle:{"margin-bottom":"1%"}},[a("a",{on:{click:e.goToSearchPage}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-alert-circle-outline")]),e._v(" This bookmark will be searchable on Search Page ")],1)]),a("div",[a("v-btn",{staticClass:"mr-4 text-none",attrs:{color:"success"},on:{click:e.saveNewWeb}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-plus-box-multiple ")]),e._v(" Bookmark ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.saveWebMsg,expression:"!saveWebMsg"}],staticStyle:{color:"slategray"}},[e._v(" Press this button")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.saveWebMsg,expression:"saveWebMsg"}],style:e.saveWebMsgColor},[e._v(e._s(e.saveWebMsg))]),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticStyle:{"margin-top":"5px"},attrs:{color:"orange accent-4",indeterminate:"",rounded:"",height:"6"}})],1),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.analyseError,expression:"analyseError"}],staticStyle:{"margin-top":"1%"},attrs:{border:"top","close-text":"Close Alert",outlined:"",color:"#f2a0a1",dark:"",dismissible:""}},[e._v(" "+e._s(e.analyseError)+" ")])],1)},et=[],tt={name:"MarkUrl",data:function(){return{username:"",addToSearch:!1,isLoading:!1,newWebUrl:"",publicPrivacy:!0,saveWebMsg:"",saveWebMsgColor:"color: orange",analyseError:""}},props:{username:{type:String,required:!0}},methods:{goToSearchPage:function(){document.getElementById("myFindBtn").click()},saveNewWeb:function(){var e=this;this.analyseError="",this.saveWebMsg="Saving this Web Page. Please wait......",this.isLoading=!0,this.axios.get("/bookmark",{params:{url:this.newWebUrl,mode:this.addToSearch?1:0,privacy:this.publicPrivacy?"public":"private"}}).then((function(t){var a=t.data.hasSavedToDatabase,n=t.data.hasSavedToElasticsearch;null===n?!0===a?(e.saveWebMsg="Success!",e.saveWebMsgColor="color: green",e.$emit("showRefresh")):(e.saveWebMsg="Fail to bookmark this website.",e.saveWebMsgColor="color: red"):!0===a&&!0===n?(e.saveWebMsg="Success!",e.saveWebMsgColor="color: green",e.$emit("showRefresh")):!0===a&&!1===n?(e.saveWebMsg="Saved successfully, but fail to make it searchable",e.saveWebMsgColor="color: orange",e.$emit("showRefresh")):(e.saveWebMsg="Fail to bookmark this website.",e.saveWebMsgColor="color: red")})).catch((function(t){var a=t.response.data.code;e.analyseError=2012===a?"Access denied because the server is blocked by the website or the server is located in the country that has blocked the website":5001===a?"There seems to be a problem with your Network Connection. Or the server is located in the country that has blocked the website":"",e.saveWebMsg=t.response.data.msg,e.saveWebMsgColor="color: red"})).finally((function(){e.isLoading=!1})),this.newWebUrl=""}}},at=tt,nt=Object(c["a"])(at,Qe,et,!1,null,null,null),ot=nt.exports;d()(nt,{VAlert:S["a"],VBtn:v["a"],VContainer:D["a"],VIcon:g["a"],VProgressLinear:B["a"],VSwitch:Ve["a"],VTextField:U["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"d-flex justify-center",staticStyle:{"margin-bottom":"2%"}},[a("v-btn",{attrs:{rounded:"",color:"black",dark:""},on:{click:e.recent}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-home ")]),e._v(" Home ")],1),a("v-divider",{staticStyle:{"margin-left":"1%","margin-right":"1%"},attrs:{vertical:""}}),a("v-btn",{attrs:{rounded:"",outlined:"",color:"black",dark:""},on:{click:e.goToPopularPage}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-fire ")]),e._v(" Popular ")],1),a("v-divider",{staticStyle:{"margin-left":"1%","margin-right":"1%"},attrs:{vertical:""}}),a("v-btn",{attrs:{rounded:"",outlined:"",color:"black",dark:""},on:{click:e.goToFilter}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-filter-plus-outline ")]),e._v(" Filter ")],1),a("v-divider",{staticStyle:{"margin-left":"1%","margin-right":"1%"},attrs:{vertical:""}}),a("v-btn",{staticClass:"text-none",attrs:{rounded:"",outlined:"",color:"black",dark:""},on:{click:e.openAllTagsPage}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-tag-multiple-outline ")]),e._v(" Tag ")],1)],1),a("div",{staticClass:"text-center"},[a("v-chip",{staticClass:"ma-2",attrs:{label:"",color:"black",outlined:"all"!==e.isOut,dark:""},on:{click:e.findAll}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle ")]),e._v(" All ")],1),a("v-chip",{staticClass:"ma-2",attrs:{label:"",outlined:"mine"!==e.isOut,color:"black",dark:""},on:{click:e.findMine}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle ")]),e._v(" Only Mine ")],1),a("v-chip",{staticClass:"ma-2",attrs:{label:"",outlined:"others"!==e.isOut,color:"black",dark:""},on:{click:e.findOthers}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle ")]),e._v(" Only Others ")],1),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:"mine"===e.isOut||"otherOne"===e.isOut,expression:"isOut === 'mine' || isOut === 'otherOne'"}],attrs:{color:"#b6d7de"},on:{click:e.exportHtmlFile}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-download ")]),e._v(" Download "+e._s(e.toUserName==e.currentUser?"My":e.toUserName+"'s")+" Bookmarks ")],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"otherOne"===e.isOut||"dontShow"===e.isOut,expression:"isOut === 'otherOne' || isOut === 'dontShow'"}],staticClass:"text-center"},[a("v-chip",{staticClass:"ma-2",attrs:{label:"",outlined:"otherOne"!==e.isOut&&"dontShow"!==e.isOut,color:"black",dark:""},on:{click:e.recent}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle ")]),a("span",{style:"otherOne"===e.isOut?"":"text-decoration: line-through"},[e._v(" "+e._s(e.toUserName)+" ")])],1)],1)])},it=[],rt={name:"HomePageButtons",methods:{exportHtmlFile:function(){window.open("/file?username="+this.toUserName,"_blank")},openAllTagsPage:function(){this.$router.push("/all-tags")},goToFilter:function(){this.$router.push("/filter")},goToPopularPage:function(){this.$router.push("/popular")}},props:{currentUser:{},findAll:{},findMine:{},findOthers:{},isOut:{},recent:{},toUserName:{}}},ct=rt,lt=Object(c["a"])(ct,st,it,!1,null,null,null),dt=lt.exports;d()(lt,{VBtn:v["a"],VChip:H["a"],VContainer:D["a"],VDivider:Ee["a"],VIcon:g["a"]});var ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{attrs:{fab:"",large:"",dark:"",bottom:"",right:"",absolute:""},on:{click:e.toTop}},[a("v-icon",[e._v("mdi-rocket")])],1)},mt=[],ht={name:"ToTopButton",methods:{toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},vt=ht,gt=Object(c["a"])(vt,ut,mt,!1,null,null,null),pt=gt.exports;d()(gt,{VBtn:v["a"],VIcon:g["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.totalPage,expression:"totalPage===0"}],attrs:{prominent:"",type:"warning"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[e._v(" No Data Available ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{on:{click:e.refreshPage}},[a("v-icon",[e._v(" mdi-home ")])],1)],1)],1)],1)},wt=[],bt={name:"NoDataInHomePage",props:{refreshPage:{},totalPage:{}}},kt=bt,yt=Object(c["a"])(kt,ft,wt,!1,null,null,null),xt=yt.exports;d()(yt,{VAlert:S["a"],VBtn:v["a"],VCol:ee["a"],VIcon:g["a"],VRow:ae["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-title",{staticClass:"headline",staticStyle:{"margin-bottom":"5px"},domProps:{textContent:e._s(e.item.title)},on:{click:function(t){return e.view(e.item)}}}),a("v-card-subtitle",{domProps:{textContent:e._s(e.item.desc)}})],1)},_t=[],Pt={name:"BookmarkTitle",methods:{view:function(e){var t=this;this.axios.get("/view/count",{params:{webId:e.webId}}).then((function(a){var n,o="Title: "+e.title+"\nURL: "+e.url+"\nBookmarked By: "+e.userName+"\n\n";n=200===a.data.code?a.data.data:0,null!=n&&n>1&&(o+="Views: "+n+"\n\n"),null!=n&&1===n&&(o+="View: 1\n\n"),o+="Do you want to open this website?",confirm(o)&&t.jump(e.url,e.webId)})).catch((function(a){t.jump(e.url,e.webId)}))},jump:function(e,t){window.open(e,"_blank"),this.axios.get("/view?webId="+t)}},props:{item:{}}},Tt=Pt,St=Object(c["a"])(Tt,Ct,_t,!1,null,null,null),Nt=St.exports;d()(St,{VCardSubtitle:V["b"],VCardTitle:V["d"]});var Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"#bf783a",outlined:""},on:{click:function(t){return e.view(e.item)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-link-variant ")]),e._v(" View ")],1)},Dt=[],Mt={name:"BookmarkViewButton",methods:{view:function(e){var t=this;this.axios.get("/view/count",{params:{webId:e.webId}}).then((function(a){var n,o="Title: "+e.title+"\nURL: "+e.url+"\nBookmarked By: "+e.userName+"\n\n";n=200===a.data.code?a.data.data:0,null!=n&&n>1&&(o+="Views: "+n+"\n\n"),null!=n&&1===n&&(o+="View: 1\n\n"),o+="Do you want to open this website?",confirm(o)&&t.jump(e.url,e.webId)})).catch((function(a){t.jump(e.url,e.webId)}))},jump:function(e,t){window.open(e,"_blank"),this.axios.get("/view?webId="+t)}},props:{item:{}}},At=Mt,It=Object(c["a"])(At,Vt,Dt,!1,null,null,null),Bt=It.exports;d()(It,{VChip:H["a"],VIcon:g["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(t){return e.view(e.item)}}},[a("v-img",{attrs:{src:e.item.img}})],1)},jt=[],Ot={name:"BookmarkPic",methods:{view:function(e){var t=this;this.axios.get("/view/count",{params:{webId:e.webId}}).then((function(a){var n,o="Title: "+e.title+"\nURL: "+e.url+"\nBookmarked By: "+e.userName+"\n\n";n=200===a.data.code?a.data.data:0,null!=n&&n>1&&(o+="Views: "+n+"\n\n"),null!=n&&1===n&&(o+="View: 1\n\n"),o+="Do you want to open this website?",confirm(o)&&t.jump(e.url,e.webId)})).catch((function(a){t.jump(e.url,e.webId)}))},jump:function(e,t){window.open(e,"_blank"),this.axios.get("/view?webId="+t)}},props:{item:{}}},Rt=Ot,Lt=a("8212"),Et=a("adda"),Ft=Object(c["a"])(Rt,Ut,jt,!1,null,null,null),Wt=Ft.exports;d()(Ft,{VAvatar:Lt["a"],VImg:Et["a"]});var Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:e.getPublic?"green":"pink","text-color":e.getPublic?"green":"pink",outlined:""},on:{click:function(t){return e.changePrivacy(e.webId,e.userName,e.getPublic)}}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.getPublic?"mdi-eye":"mdi-eye-off"))]),e._v(" "+e._s(e.getPublic?"Public":"Private")+" ")],1)},$t=[],zt={name:"BookmarkPrivacy",data:function(){return{isPublicValue:null}},computed:{getPublic:function(){return null===this.isPublicValue&&(this.isPublicValue=this.isPublic),this.isPublicValue}},methods:{changePrivacy:function(e,t,a){var n=this,o=a?"private":"public";confirm("Are you sure you want to make it "+o+" ?")&&this.axios.get("/bookmark/privacy",{params:{webId:e}}).then((function(e){200===e.data.code||500===e.data.code?(alert(e.data.msg),n.isPublicValue=!a):alert("Something went wrong... Please try again later.")})).catch((function(e){2009===e.response.data.code||2001===e.response.data.code?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))}},props:{isPublic:{},webId:{},userName:{}}},qt=zt,Yt=Object(c["a"])(qt,Ht,$t,!1,null,null,null),Gt=Yt.exports;d()(Yt,{VChip:H["a"],VIcon:g["a"]});var Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"#683f36",outlined:""},on:{click:function(t){return e.openTag(e.item)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-tag-multiple-outline ")]),e._v(" Tag "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.tagName,expression:"tagName"}]},[e._v(": "+e._s(e.tagName))])],1)},Xt=[],Zt={name:"BookmarkTagButton",data:function(){return{tagName:""}},methods:{openTag:function(e){this.$router.push({name:"web",params:{item:e,tagMode:!0,previousPage:this.previousPage,previousPageNum:this.previousPageNum,currentUser:this.currentUser}})}},props:{item:{},previousPageNum:{},currentUser:{},previousPage:{}},created:function(){var e=this;this.axios.get("/tag/one?webId="+this.item.webId).then((function(t){200===t.data.code&&(e.tagName=t.data.data)})).catch((function(e){}))}},Kt=Zt,Qt=Object(c["a"])(Kt,Jt,Xt,!1,null,null,null),ea=Qt.exports;d()(Qt,{VChip:H["a"],VIcon:g["a"]});var ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"#84a2d4",outlined:""},on:{click:function(t){return e.openCommentOutside(e.item.webId)}}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.showComment==e.item.webId?"mdi-comment-remove-outline":"mdi-comment-outline")+" ")]),e._v(" Comment "+e._s(e.commentCount>0?"("+e.commentCount+")":"")+" ")],1)},aa=[],na={name:"BookmarkCommentButton",data:function(){return{commentCount:0}},props:{item:{},showComment:{}},methods:{openCommentOutside:function(e){this.$emit("openComment",e)},countComment:function(){var e=this;this.axios.get("/comment/get/number/"+this.item.webId).then((function(t){200===t.data.code&&(e.commentCount=t.data.data)})).catch((function(e){}))}},created:function(){this.countComment()}},oa=na,sa=Object(c["a"])(oa,ta,aa,!1,null,null,null),ia=sa.exports;d()(sa,{VChip:H["a"],VIcon:g["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-icon",[e._v("mdi-clock-outline")]),a("span",{staticStyle:{color:"grey"}},[e._v(" "+e._s(e._f("dateFormat")(e.creationTime,"YYYY-MM-DD HH:mm"))+" ")])],1)},ca=[],la={name:"BookmarkTime",props:{creationTime:{}}},da=la,ua=Object(c["a"])(da,ra,ca,!1,null,null,null),ma=ua.exports;d()(ua,{VIcon:g["a"]});var ha={components:{BookmarkTime:ma,BookmarkCommentButton:ia,BookmarkTagButton:ea,BookmarkPrivacy:Gt,BookmarkPic:Wt,BookmarkViewButton:Bt,BookmarkTitle:Nt,NoDataInHomePage:xt,ToTopButton:pt,HomePageButtons:dt,MarkUrl:ot,Comment:Ke},name:"HP",data:function(){return{pattern:"latest",toUserName:"",currentPage:1,totalPage:1,currentUser:"",items:"",showComment:-1,refreshShow:!1,showExcludeUserBtn:-1,onThisWebData:-1,isOut:"all"}},methods:{showRefresh:function(){this.refreshShow=!0},findAll:function(){this.recent(),this.isOut="all",this.refreshShow=!1},findMine:function(){this.isOut="mine",this.pattern="user",this.toUserName=this.currentUser,this.currentPage=1,this.loadHome(this.currentPage),this.refreshShow=!1},findOthers:function(){this.isOut="others",this.pattern="block",this.toUserName=this.currentUser,this.currentPage=1,this.loadHome(this.currentPage),this.refreshShow=!1},dontShowUser:function(e){e===this.currentUser?confirm("Don't Show Yours?")&&this.findOthers():confirm("Don't Show Bookmarks Shared By "+e+"?")&&(this.isOut="dontShow",this.pattern="block",this.toUserName=e,this.currentPage=1,this.loadHome(this.currentPage))},toUser:function(e){e===this.currentUser?confirm("View Your Bookmarks?")&&this.findMine():confirm("View Bookmarks Shared By "+e+"?")&&(this.toUserName=e,this.pattern="user",this.currentPage=1,this.loadHome(this.currentPage),this.isOut="otherOne")},recent:function(){this.isOut="all",this.pattern="latest",this.currentPage=1,this.loadHome(1),this.refreshShow=!1},refreshPage:function(){this.recent(),this.refreshShow=!1},delWeb:function(e,t){var a=this;confirm("Are you sure you want to delete it?")&&this.axios.delete("/bookmark",{params:{webId:e}}).then((function(e){3001===e.data.code?a.loadHome(a.currentPage):alert(e.data.msg)})).catch((function(e){2009===e.response.data.code?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))},loadHome:function(e){var t=this;this.items=[],this.axios.get("/home",{params:{currentPage:e,timeline:this.pattern,requestedUsername:this.toUserName}}).then((function(e){t.currentUser=e.data.currentUser,t.items=e.data.bookmarksAndTotalPages.bookmarks,t.totalPage=e.data.bookmarksAndTotalPages.totalPages,t.toUserName=e.data.requestedUsername,t.totalPage<t.currentPage&&0!==t.totalPage&&(t.currentPage=t.totalPage,t.loadHome(t.currentPage)),document.body.scrollTop=0,document.documentElement.scrollTop=0}))},openComment:function(e){this.showComment==e&&(e=-1),this.showComment=e},mark:function(e){var t=this;if(confirm("Add it to your Bookmarks?")){var a={title:e.title,url:e.url,img:e.img,desc:e.desc};this.axios.post("/bookmark",a).then((function(e){alert(e.data.msg),200===e.data.code&&(t.refreshShow=!0)})).catch((function(e){2010===e.response.data.code&&alert(e.response.data.msg)}))}}},created:function(){window.onload=function(){document.getElementById("myHomeBtn").click()};var e=this.$route.query.currentPage;null!==e&&e>1&&(this.currentPage=e),this.loadHome(this.currentPage)}},va=ha,ga=a("891e"),pa=Object(c["a"])(va,Ae,Ie,!1,null,null,null),fa=pa.exports;d()(pa,{VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VDivider:Ee["a"],VIcon:g["a"],VPagination:ga["a"],VRow:ae["a"]});var wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:""!==e.roleChangeMsg,expression:"roleChangeMsg !== ''"}],attrs:{icon:"mdi-close-circle-outline",color:"#e6b422"},on:{click:e.clearRoleChangeMsg}},[e._v(" "+e._s(e.roleChangeMsg)+" ")]),a("MyPageTop",{attrs:{user:e.user,ip:e.ip},on:{getMyWebsDataByCurrentPage:e.getMyWebsDataByCurrentPage}}),a("v-divider"),a("div",{staticStyle:{"text-align":"center","margin-top":"1%"}},[a("v-btn",{staticClass:"text-none text-center",attrs:{color:"green",outlined:!0!==e.trueMarkedWebsFalseNotifications},on:{click:function(t){return e.getMyWebsData(1)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-bookmark-check ")]),e._v(" Bookmarks ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{staticClass:"text-none text-center",attrs:{color:"#ee827c",outlined:!1!==e.trueMarkedWebsFalseNotifications},on:{click:e.getMyNotifications}},[a("v-badge",{attrs:{value:e.newNotificationCount>0,color:"red",content:e.newNotificationCount}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-at ")]),e._v(" My Notifications ")],1)],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("SystemNotification",{attrs:{"get-system-notifications":e.getSystemNotifications}})],1),a("MyPageNotification",{directives:[{name:"show",rawName:"v-show",value:!1===e.trueMarkedWebsFalseNotifications,expression:"trueMarkedWebsFalseNotifications===false"}],ref:"myPageNotification",attrs:{"current-username":e.user.userName,"total-notifications":e.totalNotifications}}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:!0===e.trueMarkedWebsFalseNotifications,expression:"trueMarkedWebsFalseNotifications===true"}],staticClass:"mx-auto"},[a("v-row",{attrs:{dense:""}},e._l(e.items,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",{attrs:{id:t.webId}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("BookmarkTitle",{attrs:{item:t}}),a("v-card-actions",[a("BookmarkPrivacy",{attrs:{"is-public":t.isPublic,"web-id":t.webId,"user-name":t.userName}}),a("BookmarkViewButton",{attrs:{item:t}}),a("BookmarkCommentButton",{key:t.webId,attrs:{item:t,"show-comment":e.showComment},on:{openComment:e.openComment}}),a("BookmarkTagButton",{key:t.webId,attrs:{item:t,"current-user":e.user.userName,"previous-page-num":e.currentPage,"previous-page":"mypage"}}),a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"red",outlined:""},on:{click:function(a){return e.delWeb(t.webId,n)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-trash-can-outline ")]),e._v(" Delete ")],1),a("BookmarkTime",{attrs:{creationTime:t.createTime}})],1)],1),a("BookmarkPic",{attrs:{item:t}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showComment==t.webId,expression:"showComment == item.webId"}]},[a("Comment",{attrs:{realWebId:t.webId,webId:e.showComment,currentUsername:e.user.userName}})],1)],1)})),1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:0!==e.totalPage,expression:"totalPage !== 0"}],attrs:{"align-content":"center"}},[a("v-col",[a("v-pagination",{attrs:{length:e.totalPage,circle:""},on:{input:function(t){return e.getMyWebsData(e.currentPage)}},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),a("ToTopButton")],1)},ba=[],ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{order:"first"}},[a("v-card",{staticClass:"pa-2",staticStyle:{"margin-bottom":"2%","margin-right":"1%"},attrs:{outlined:""}},[a("UserInfoList",{attrs:{ip:e.ip,user:e.user}}),a("ChangeUserInfoButton",{attrs:{"change-show-pwd":e.changeShowPwd,"current-username":this.user.userName,"show-change-pwd":e.showChangePwd}})],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.showChangePwd,expression:"!showChangePwd"}],attrs:{order:"last"}},[a("ExportAndImport",{attrs:{"current-username":e.user.userName},on:{openMyBookmarks:e.openMyBookmarks}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.showChangePwd,expression:"showChangePwd"}],attrs:{order:"last"}},[a("v-card",{staticStyle:{"margin-top":"2%","margin-bottom":"2%"},attrs:{outlined:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px"}},[a("v-text-field",{attrs:{label:"Username",disabled:""},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.pwdRules,name:"input-10-1",label:"Old password",hint:"At least 8 characters",loading:e.isLoading,counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}})],1),a("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.pwdRules,name:"input-10-1",label:"New password",hint:"At least 8 characters",counter:"",loading:e.isLoading},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticStyle:{"text-align":"center","margin-left":"20px","margin-right":"20px","margin-bottom":"3px"}},[a("v-alert",{attrs:{"close-text":"Close Alert",color:"#8E2323",outlined:"",dense:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.status)+" ")])],1),a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v(" Update Password ")])],1)])],1)],1)],1)},ya=[],xa=(a("4ec9"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[a("v-textarea",{attrs:{label:"Username","no-resize":"",readonly:"",rows:"1",value:e.user.userName,"background-color":!e.user.hasOwnProperty("highlightedFields")||"userName"!==e.user.highlightedFields[0]&&"userName"!==e.user.highlightedFields[1]?"":"#f3f3f3"}})],1),a("v-list-item-title",{staticClass:"headline mb-1"},[a("v-textarea",{attrs:{label:"ID","no-resize":"",readonly:"",rows:"1","background-color":!e.user.hasOwnProperty("highlightedFields")||"userId"!==e.user.highlightedFields[0]&&"userId"!==e.user.highlightedFields[1]?"":"#f3f3f3",value:e.user.userId}})],1),a("v-list-item-title",{staticClass:"headline mb-1"},[a("v-textarea",{attrs:{label:"Signed in","no-resize":"",readonly:"",rows:"1",value:e._f("dateFormat")(e.user.createTime,"YYYY-MM-DD HH:mm")}})],1),a("v-list-item-title",{staticClass:"headline mb-1"},[a("v-textarea",{attrs:{label:"Role","no-resize":"",readonly:"",rows:"1",value:e.user.role}})],1),a("v-list-item-title",{directives:[{name:"show",rawName:"v-show",value:e.ip,expression:"ip"}],staticClass:"headline mb-1"},[a("v-textarea",{attrs:{label:"Your IP","no-resize":"",readonly:"",rows:"1",value:e.ip}})],1)],1),a("v-list-item-avatar",{attrs:{size:"60",color:"admin"===e.user.role?"#e6b422":"black lighten-1"}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(e.user.userName.charAt(0).trim()))])])],1)}),Ca=[],_a={name:"UserInfoList",data:function(){return{user:[],ip:""}},props:{user:{type:Array,required:!0},ip:{type:String,required:!1}}},Pa=_a,Ta=a("da13"),Sa=a("8270"),Na=a("5d23"),Va=Object(c["a"])(Pa,xa,Ca,!1,null,"4c47c35c",null),Da=Va.exports;d()(Va,{VListItem:Ta["a"],VListItemAvatar:Sa["a"],VListItemContent:Na["a"],VListItemTitle:Na["b"],VTextarea:pe["a"]});var Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card-actions",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{order:"first"}},[a("v-btn",{staticClass:"text-none",attrs:{outlined:"",rounded:"",text:"",color:"pink"},on:{click:e.logout}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-logout ")]),e._v(" Sign Out ")],1)],1),a("v-col",[a("v-btn",{staticClass:"text-none",attrs:{outlined:"",rounded:"",text:"",color:"red"},on:{click:e.deleteAccount}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-delete-outline ")]),e._v(" Delete My Account ")],1)],1),a("v-col",{attrs:{order:"last"}},[a("v-btn",{staticClass:"text-none",attrs:{outlined:"",rounded:"",text:"",color:"orange"},on:{click:e.changeShowPwd}},[e._v(" Change Password "),a("v-icon",{attrs:{right:""}},[e._v(" "+e._s(e.showChangePwd?"mdi-arrow-right-bold-outline":"mdi-lock-plus-outline")+" ")])],1)],1)],1)],1)},Aa=[],Ia={name:"ChangeUserInfoButton",props:{changeShowPwd:{},showChangePwd:{},currentUsername:{}},methods:{deleteAccount:function(){if(confirm("Once you delete your account, there is no going back. Please be certain.\n\nAre you absolutely sure?")){var e=this.currentUsername;this.$router.push({path:"/delete/".concat(e)})}},logout:function(){var e=this;confirm("Are you sure you want to sign out?")&&this.axios.get("/logout").then((function(t){200===t.data.code&&(alert("Good Bye "+e.currentUsername),e.$router.push("/login"))}))}}},Ba=Ia,Ua=Object(c["a"])(Ba,Ma,Aa,!1,null,null,null),ja=Ua.exports;d()(Ua,{VBtn:v["a"],VCardActions:V["a"],VCol:ee["a"],VIcon:g["a"],VRow:ae["a"]});var Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"#93deff"}},[a("v-card-title",{staticClass:"text-h5"},[e._v(" Export Bookmarks ")]),a("v-card-subtitle",[e._v("Press the EXPORT button to export your Bookmarks to HTML file and DOWNLOAD it. ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"#b6d7de"},on:{click:e.exportHtmlFile}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-export ")]),a("span",{staticStyle:{color:"#323643"}},[e._v("EXPORT")])],1)],1)],1),a("v-card",{staticStyle:{"margin-top":"2%"},attrs:{color:"#b6d7de"}},[a("v-card-title",{staticClass:"text-h5"},[e._v(" Import Bookmarks ")]),a("v-card-subtitle",[e._v(" To import Bookmarks from HTML file: "),a("p"),a("p",[e._v("1. Upload HTML file:")]),a("v-file-input",{attrs:{accept:"text/html",label:"Please Upload HTML file"},model:{value:e.chosenFile,callback:function(t){e.chosenFile=t},expression:"chosenFile"}}),a("p",[e._v("2. Press the IMPORT button:")]),a("v-btn",{attrs:{color:"#93deff",disabled:e.importingFile},on:{click:e.importHtmlFile}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-import ")]),a("span",{staticStyle:{color:"#323643"}},[e._v("IMPORT")])],1),a("span",{staticStyle:{"margin-left":"2%"},domProps:{innerHTML:e._s(e.importingMsg)}})],1)],1)],1)},Ra=[],La={name:"ExportAndImport",data:function(){return{importingFile:!1,importingMsg:"",chosenFile:null}},props:{currentUsername:{}},methods:{importHtmlFile:function(){var e=this;if(this.chosenFile){this.importingFile=!0,this.importingMsg="<span style='color: #004a7c; font-size: 18px'>Importing... Please wait a minute.</span>";var t=new FormData;t.append("htmlFile",this.chosenFile),this.axios.post("/file",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var a=t.data.data;200===t.data.code?(e.importingMsg="<span style='color: #fff5a5; font-size: 18px'>"+a+"</span>",e.$emit("openMyBookmarks")):e.importingMsg=a})).catch((function(t){var a=t.response.data.code,n=t.response.data.msg;e.importingMsg=3018===a?"<span style='color: red; font-size: 15px'>"+n+"</span>":"<span style='color: red; font-size: 15px'>Something went wrong</span>"})).finally((function(){e.importingFile=!1}))}else alert("Please Upload HTML File.")},exportHtmlFile:function(){window.open("/file?username="+this.currentUsername,"_blank")}}},Ea=La,Fa=a("23a7"),Wa=Object(c["a"])(Ea,Oa,Ra,!1,null,null,null),Ha=Wa.exports;d()(Wa,{VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VCardSubtitle:V["b"],VCardTitle:V["d"],VFileInput:Fa["a"],VIcon:g["a"]});var $a={name:"MyPageTop",components:{ExportAndImport:Ha,ChangeUserInfoButton:ja,UserInfoList:Da},data:function(){return{show1:!1,oldPassword:"",newPassword:"",pwdRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be greater than 8 characters"}],valid:!0,user:"",ip:"",showChangePwd:!1,isLoading:!1}},props:{user:{type:Map,required:!0},ip:{type:String,required:!0}},methods:{openMyBookmarks:function(){this.$emit("getMyWebsDataByCurrentPage")},changeShowPwd:function(){this.showChangePwd=!this.showChangePwd},validate:function(){var e=this;this.$refs.form.validate(),this.isLoading=!0;var t={userName:this.user.userName,oldPassword:this.oldPassword,newPassword:this.newPassword};this.axios.post("/user/change-password",t).then((function(t){alert(t.data.msg),e.oldPassword="",e.newPassword="",e.showChangePwd=!1,2014==t.data.code&&e.axios.get("/logout").then((function(t){200===t.data.code&&(e.$router.push("/login"),alert("Please Login again with the new password."))}))})).catch((function(e){3002===e.response.data.code&&alert(e.response.data.msg),2009===e.response.data.code&&alert("Guest don't have permission to change password")})).finally((function(){e.isLoading=!1}))}}},za=$a,qa=Object(c["a"])(za,ka,ya,!1,null,null,null),Ya=qa.exports;d()(qa,{VAlert:S["a"],VBtn:v["a"],VCard:N["a"],VCol:ee["a"],VForm:A["a"],VRow:ae["a"],VTextField:U["a"]});var Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mx-auto"},[e._l(e.notificationList,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{color:null===t.message?"grey":"#ee827c",dark:""}},[a("v-card-title",{staticStyle:{"font-size":"medium"}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(null!==t.replyToCommentId?"mdi-message-reply-text":"mdi-comment-text-outline")+" ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:null===t.message,expression:"notification.message === null"}]},[a("del",[a("b",[e._v(e._s(t.sendUsername===e.currentUsername?"You":t.sendUsername)+" ")]),e._v(" "+e._s(null!==t.replyToCommentId?t.sendUsername===e.currentUsername?"replied to yourself":"replied to you":"posted a comment on your activity")+" ")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:null!==t.message,expression:"notification.message !== null"}]},[a("b",[e._v(e._s(t.sendUsername===e.currentUsername?"You":t.sendUsername)+" ")]),e._v(" "+e._s(null!==t.replyToCommentId?t.sendUsername===e.currentUsername?"replied to yourself :":"replied to you :":"posted a comment on your activity :")+" ")])],1),a("v-card-text",{staticClass:"font-weight-bold"},[e._v(" "+e._s(null===t.message?null!==t.replyToCommentId?"This reply has been deleted":"This comment has been deleted":t.message)+" ")]),a("v-card-actions",[a("v-list-item",{staticClass:"grow"},[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"font-size":"small"}},[a("span",{staticStyle:{color:"#d3cbc6"}},[a("v-icon",{attrs:{color:"#d3cbc6",small:""}},[e._v(" mdi-clock-outline ")]),e._v(" "+e._s(e._f("dateFormat")(t.creationTime,"YYYY-MM-DD HH:mm"))+" ")],1)])],1),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-col",{staticClass:"shrink"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:null!==t.message,expression:"notification.message !== null"}],staticClass:"text-none",attrs:{small:"",color:"#d0576b"},on:{click:function(a){return e.openReplyNotification(n,t)}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-eye")]),e._v(" View ")],1)],1),a("v-col",{staticClass:"shrink"},[a("v-btn",{staticClass:"text-none",attrs:{small:"",color:"#bf242a"},on:{click:function(a){return e.deleteReplyNotification(n,t)}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-delete")]),e._v(" Delete ")],1)],1)],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotification==="notify"+n,expression:"showNotification==='notify' + i"}]},[a("v-card",{attrs:{id:e.websiteData.webId}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("v-card-title",{staticClass:"headline",domProps:{textContent:e._s(e.websiteData.title)},on:{click:function(t){return e.view(e.websiteData)}}}),a("v-card-subtitle",{domProps:{textContent:e._s(e.websiteData.desc)}}),a("v-card-actions",[a("v-chip",{staticClass:"ma-2",attrs:{color:"black",label:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.currentUsername===e.websiteData.userName?"mdi-account-check":"mdi-account")+" ")]),e._v(" "+e._s(e.websiteData.userName)+" ")],1),a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"#bf783a",outlined:""},on:{click:function(t){return e.view(e.websiteData)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-link-variant ")]),e._v(" View ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("div",[a("v-icon",[e._v("mdi-clock-outline")]),a("span",{staticStyle:{color:"grey"}},[e._v(" "+e._s(e._f("dateFormat")(e.websiteData.createTime))+" ")])],1)],1)],1),a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(t){return e.view(e.websiteData)}}},[a("v-img",{attrs:{src:e.websiteData.img}})],1)],1)]),a("comment",{ref:"commentArea",refInFor:!0,attrs:{"current-username":e.currentUsername,"web-id":t.webId}})],1)],1)})),a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.totalNotifications>0&&e.totalNotifications>e.countNotifications,expression:"totalNotifications > 0 && totalNotifications > countNotifications"}]},[a("v-btn",{attrs:{block:"",color:"#ee827c"},on:{click:e.getMyNotifications}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-refresh ")]),e._v(" More ")],1)],1)],2)},Ja=[],Xa={name:"MyPageNotification",components:{Comment:Ke},data:function(){return{totalNotifications:0,size:0,countNotifications:0,notificationList:"",currentUsername:"",showNotification:null,websiteData:""}},methods:{resetDataAndGetNotifications:function(){this.showNotification=null,this.getMyNotifications()},getMyNotifications:function(){var e=this;this.size=this.size+10,this.axios.get("/notification",{params:{lastIndex:this.size}}).then((function(t){e.notificationList=t.data,e.countNotifications=e.notificationList.length})).catch((function(e){var t=e.response.data.code;2013===t?alert("No Notifications Yet"):2009===t?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))},view:function(e){var t=this;this.axios.get("/view/count",{params:{webId:e.webId}}).then((function(a){var n,o="Title: "+e.title+"\nURL: "+e.url+"\nBookmarked By: "+e.userName+"\n\n";n=200===a.data.code?a.data.data:0,null!=n&&n>1&&(o+="Views: "+n+"\n\n"),null!=n&&1===n&&(o+="View: 1\n\n"),o+="Do you want to open this website?",confirm(o)&&t.jump(e.url,e.webId)})).catch((function(a){t.jump(e.url,e.webId)}))},jump:function(e,t){window.open(e,"_blank"),this.axios.get("/view?webId="+t)},deleteReplyNotification:function(e,t){var a=this;confirm("Are you sure you want to delete it?")&&this.axios.post("/notification",t).then((function(t){a.notificationList.splice(e,1),a.showNotification="",alert("Deleted")})).catch((function(e){alert(e.response.data.msg)}))},openReplyNotification:function(e,t){this.showNotification="notify"+e,this.getWebsiteDataAndContinue(e,t)},getWebsiteDataAndContinue:function(e,t){var a=this,n=t.webId;this.axios.get("/bookmark/get",{params:{webId:n}}).then((function(e){a.websiteData=e.data})).catch((function(e){var t=e.response.data.code;2009===t?alert("You don't have permission to view the post"):2001===t?alert("The post doesn't exist"):alert("Something went wrong.."),a.websiteData=""})).finally((function(){a.checkWebsiteDataAndContinue(e,t)}))},checkWebsiteDataAndContinue:function(e,t){""===this.websiteData?this.showNotification="":this.checkCommentDataAndContinue(e,t)},checkCommentDataAndContinue:function(e,t){var a=this;this.axios.get("/comment/get?commentId="+t.commentId).then((function(n){200!==n.data.code?(alert("The comment does not exist"),a.showNotification=""):null!==t.replyToCommentId?a.checkReplyDataAndContinue(e,t):a.$refs.commentArea[e].openCommentFromOutside(!0,t.commentId)}))},checkReplyDataAndContinue:function(e,t){var a=this;this.axios.get("/comment/get?commentId="+t.replyToCommentId).then((function(n){if(200===n.data.code){var o=n.data.data;a.$refs.commentArea[e].openCommentFromOutside(!1,t.commentId,o)}else alert("The reply does not exist"),a.showNotification=""}))}},props:{currentUsername:{type:String,required:!0},totalNotifications:{type:Number,required:!0}}},Za=Xa,Ka=Object(c["a"])(Za,Ga,Ja,!1,null,"31770cd0",null),Qa=Ka.exports;d()(Ka,{VAvatar:Lt["a"],VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VCardSubtitle:V["b"],VCardText:V["c"],VCardTitle:V["d"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VDivider:Ee["a"],VIcon:g["a"],VImg:Et["a"],VListItem:Ta["a"],VListItemContent:Na["a"],VListItemTitle:Na["b"],VRow:ae["a"]});var en=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"text-none text-center",attrs:{color:"yellow darken-2",outlined:""},on:{click:e.getSystemNotifications}},[a("v-badge",{attrs:{value:0==e.hasReadNewSystemNotification,color:"red",dot:""}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-bell-ring-outline ")]),e._v(" System Notifications ")],1)],1)},tn=[],an={name:"SystemNotification",data:function(){return{hasReadNewSystemNotification:!0}},methods:{hasNewSystemNotification:function(){var e=this;this.axios.get("/system/read").then((function(t){e.hasReadNewSystemNotification=200===t.data.code}))}},created:function(){this.hasNewSystemNotification()},props:{getSystemNotifications:{}}},nn=an,on=Object(c["a"])(nn,en,tn,!1,null,null,null),sn=on.exports;d()(on,{VBadge:h["a"],VBtn:v["a"],VIcon:g["a"]});var rn={components:{SystemNotification:sn,BookmarkTime:ma,BookmarkPic:Wt,BookmarkTagButton:ea,BookmarkCommentButton:ia,BookmarkViewButton:Bt,BookmarkPrivacy:Gt,BookmarkTitle:Nt,ToTopButton:pt,MyPageTop:Ya,MyPageNotification:Qa,Comment:Ke},name:"MyPage",data:function(){return{roleChangeMsg:"",items:"",currentPage:1,totalPage:1,user:"",ip:"",status:"",showComment:-1,trueMarkedWebsFalseNotifications:"",notificationList:"",totalNotifications:0,newNotificationCount:0}},methods:{openComment:function(e){this.showComment==e&&(e=-1),this.showComment=e},getPersonalInfo:function(){var e=this;this.axios.get("/user").then((function(t){e.user=t.data.user,e.ip=t.data.ip,e.totalNotifications=t.data.totalReplyNotifications}))},getMyNotifications:function(){this.trueMarkedWebsFalseNotifications=!1,this.$refs.myPageNotification.resetDataAndGetNotifications()},getMyWebsDataByCurrentPage:function(){this.getMyWebsData(this.currentPage)},getMyWebsData:function(e){var t=this;this.axios.get("/bookmark/get/user",{params:{currentPage:e}}).then((function(e){t.totalPage=e.data.totalPages,t.totalPage<t.currentPage&&0!==t.totalPage&&(t.currentPage=t.totalPage,t.getMyWebsData(t.currentPage)),t.items=e.data.bookmarks,0===t.items.length&&alert("No Bookmarks"),document.body.scrollTop=0,document.documentElement.scrollTop=0})).finally((function(){t.trueMarkedWebsFalseNotifications=!0}))},delWeb:function(e,t){var a=this;confirm("Are you sure you want to delete it?")&&this.axios.delete("/bookmark",{params:{webId:e}}).then((function(e){3001===e.data.code?(alert(e.data.msg),a.items.splice(t,1),0===a.items.length&&a.getMyWebsData(a.currentPage)):alert(e.data.msg)})).catch((function(e){2009===e.response.data.code?alert(e.response.data.msg):alert("Something went wrong... Please try again later.")}))},getNewReplyNotification:function(){var e=this;this.axios.get("/notification/count").then((function(t){200===t.data.code&&(e.newNotificationCount=t.data.data)}))},getRoleChange:function(){var e=this;this.axios.get("/notification/role-changed").then((function(t){200===t.data.code?e.roleChangeMsg=t.data.data:(t.data.code,e.roleChangeMsg="")}))},clearRoleChangeMsg:function(){confirm("Clear this message")&&(this.axios.delete("/notification/role-changed"),this.roleChangeMsg="")}},props:{getSystemNotifications:{}},created:function(){this.getPersonalInfo(),this.getNewReplyNotification(),this.getRoleChange();var e=this.$route.query.currentPage;null!==e&&e>0&&this.getMyWebsData(e)}},cn=rn,ln=Object(c["a"])(cn,wa,ba,!1,null,null,null),dn=ln.exports;d()(ln,{VAlert:S["a"],VBadge:h["a"],VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VDivider:Ee["a"],VIcon:g["a"],VPagination:ga["a"],VRow:ae["a"]});var un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.isSpecialMode,expression:"!isSpecialMode"}],attrs:{"fixed-tabs":"","background-color":"#474a4d",color:"white","slider-color":"#e0ebaf"}},[a("v-tab",{staticClass:"text-none",on:{click:function(t){return e.changeSearchMode("web")}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-file-find ")]),e._v(" Search Bookmarks ")],1),a("v-tab",{staticClass:"text-none",on:{click:function(t){return e.changeSearchMode("user")}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-search ")]),e._v(" Search Users ")],1),a("v-tab",{staticClass:"text-none",on:{click:function(t){return e.changeSearchMode("tag")}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-tag-multiple-outline ")]),e._v(" Search Tags ")],1)],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isSpecialMode,expression:"isSpecialMode"}],staticClass:"text-none",attrs:{block:"",color:e.searchingTag&&0===e.items.length?"#c53d43":"#d0af4c"},on:{click:e.backToSearch}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBookmarks,expression:"showBookmarks"}]},[e._v(" You are now viewing "+e._s(e.showBookmarks)+"'s bookmarks. Click here to go back. ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchingTag&&e.items.length>0,expression:"searchingTag && items.length > 0"}]},[e._v(' Viewing bookmarks associated with "'+e._s(e.searchingTag)+'". Note that some bookmarks are private. Click here to go back. ')]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchingTag&&0===e.items.length,expression:"searchingTag && items.length === 0"}]},[e._v(" These bookmarks are private. You can click here to go back. ")])],1),a("v-container",{attrs:{"fill-height":""}},[a("AlertWhenDataHasChanges",{directives:[{name:"show",rawName:"v-show",value:e.hasNewUpdate&&e.hasDb&&"web"===e.searchMode&&!e.isSpecialMode,expression:"hasNewUpdate && hasDb && searchMode === 'web' && !isSpecialMode"}],attrs:{"update-data":e.genDb}}),a("AlertWhenDataHasChanges",{directives:[{name:"show",rawName:"v-show",value:e.hasNewUserUpdate&&e.hasUserData&&"user"===e.searchMode&&!e.isSpecialMode,expression:"hasNewUserUpdate && hasUserData && searchMode === 'user' && !isSpecialMode"}],attrs:{"update-data":e.updateUserData}}),a("AlertWhenDataHasChanges",{directives:[{name:"show",rawName:"v-show",value:e.hasNewTagUpdate&&e.hasTags&&"tag"===e.searchMode&&!e.isSpecialMode,expression:"hasNewTagUpdate && hasTags && searchMode === 'tag' && !isSpecialMode"}],attrs:{"update-data":e.updateTagData}}),a("AlertWhenNoData",{directives:[{name:"show",rawName:"v-show",value:!e.hasDb&&"web"===e.searchMode&&!e.isSpecialMode,expression:"!hasDb && searchMode === 'web' && !isSpecialMode"}],attrs:{"update-data":e.genDb,"search-mode":e.searchMode}}),a("AlertWhenNoData",{directives:[{name:"show",rawName:"v-show",value:!e.hasUserData&&"user"===e.searchMode&&!e.isSpecialMode,expression:"!hasUserData && searchMode === 'user' && !isSpecialMode"}],attrs:{"update-data":e.updateUserData,"search-mode":e.searchMode}}),a("AlertWhenNoData",{directives:[{name:"show",rawName:"v-show",value:!e.hasTags&&"tag"===e.searchMode&&!e.isSpecialMode,expression:"!hasTags && searchMode === 'tag' && !isSpecialMode"}],attrs:{"update-data":e.updateTagData,"search-mode":e.searchMode}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSpecialMode,expression:"!isSpecialMode"}],staticStyle:{"margin-top":"1%"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"web"===e.searchMode,expression:"searchMode === 'web'"}],staticClass:"mx-2",attrs:{color:"red",dark:"",small:"",fab:""},on:{click:function(t){e.showTrending=!e.showTrending}}},[a("v-icon",{attrs:{dark:""}},[e._v(" "+e._s(e.showTrending?"mdi-fire":"mdi-close")+" ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{color:"#808080",dark:"",small:"",fab:""},on:{click:function(t){e.hidden=!e.hidden}}},[a("v-icon",{attrs:{dark:""}},[e._v(" "+e._s(e.hidden?"mdi-cog":"mdi-close")+" ")])],1),e._l("web"===e.searchMode?e.tiles:"user"===e.searchMode?e.userTitles:e.tagTitles,(function(t){return a("v-expand-x-transition",[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],key:t.title,staticStyle:{margin:"2px"},attrs:{outlined:"","text-color":t.color},on:{click:function(a){return e.moreOptions(t.tId)}}},[a("v-icon",{attrs:{left:"",color:t.color}},[e._v(" "+e._s(t.icon)+" ")]),e._v(" "+e._s(t.title)+" ")],1)],1)}))],2),a("ProcessingLinear",{attrs:{processing:e.processing}}),a("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.isSpecialMode,expression:"!isSpecialMode"}],staticStyle:{"margin-top":"1%"}},[a("v-col",[a("v-text-field",{attrs:{id:"inputField","append-icon":e.inputMsg?"mdi-magnify":"",label:e.placeholderMsg?"Searching"+e.placeholderMsg:"","single-line":"",outlined:"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRequest(e.inputMsg,e.currentPage)},"click:append":function(t){return e.searchRequest(e.inputMsg,e.currentPage)}},model:{value:e.inputMsg,callback:function(t){e.inputMsg=t},expression:"inputMsg"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:-1!==e.totalCount&&!e.errorMsg,expression:"totalCount !== -1 && !errorMsg"}]},[e._v(" Total "+e._s(e.totalCount>=1?e.totalCount:0)+" result"+e._s(e.totalCount>1?"s":"")+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticStyle:{color:"red"}},[e._v(e._s(e.errorMsg))])],1)],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"tag"===e.searchMode&&e.inputMsg,expression:"searchMode === 'tag' && inputMsg"}],attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-text-field",{attrs:{rules:e.numberRule,label:"Range (From)"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRequest(e.inputMsg,1)}},model:{value:e.rangeFrom,callback:function(t){e.rangeFrom=t},expression:"rangeFrom"}})],1),a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-text-field",{attrs:{rules:e.numberRule,label:"Range (To)"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRequest(e.inputMsg,1)}},model:{value:e.rangeTo,callback:function(t){e.rangeTo=t},expression:"rangeTo"}})],1)],1),a("SearchingLinear",{directives:[{name:"show",rawName:"v-show",value:e.isSearching,expression:"isSearching"}]}),a("div",{directives:[{name:"show",rawName:"v-show",value:this.showTrending&&"web"===e.searchMode&&!e.isSpecialMode,expression:"this.showTrending && searchMode === 'web' && !isSpecialMode"}],staticClass:"text-center"},[a("v-row",e._l(e.trending,(function(t,n){return a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.trending,expression:"trending"}],key:n,staticClass:"text-center",attrs:{cols:"20"}},[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:n<6,expression:"i < 6"}],staticClass:"ma-2",attrs:{color:"#dc3023","text-color":"white"},on:{click:function(a){return e.searchRequest(t,e.currentPage)}}},[e._v(" "+e._s(t)+" "),a("v-icon",{attrs:{right:""},on:{click:function(a){return a.stopPropagation(),e.delTrend(t,n)}}},[e._v(" mdi-close ")])],1),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:6<=n&&n<=12,expression:"6 <= i && i <= 12"}],staticClass:"ma-2",attrs:{color:"#f35336","text-color":"white"},on:{click:function(a){return e.searchRequest(t,e.currentPage)}}},[e._v(" "+e._s(t)+" "),a("v-icon",{attrs:{right:""},on:{click:function(a){return a.stopPropagation(),e.delTrend(t)}}},[e._v(" mdi-close ")])],1),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:n>12,expression:"i > 12"}],staticClass:"ma-2",attrs:{color:"#ea5506","text-color":"white"},on:{click:function(a){return e.searchRequest(t,e.currentPage)}}},[e._v(" "+e._s(t)+" "),a("v-icon",{attrs:{right:""},on:{click:function(a){return a.stopPropagation(),e.delTrend(t)}}},[e._v(" mdi-close ")])],1)],1)})),1)],1),a("v-container",{staticClass:"mx-auto"},[a("v-row",{attrs:{dense:""}},e._l(e.items,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:"user"===e.searchMode&&!e.isSpecialMode,expression:"searchMode==='user' && !isSpecialMode"}]},[a("UserInfoList",{directives:[{name:"show",rawName:"v-show",value:"user"===e.searchMode,expression:"searchMode==='user'"}],attrs:{user:t}}),a("v-card-actions",[a("v-btn",{staticClass:"text-none",attrs:{color:"#e198b4"},on:{click:function(a){return e.checkoutBookmarks(t.userName,t.bookmarkNumber)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-bookmark-outline")]),e._v(" "+e._s(t.bookmarkNumber>0?"View Bookmarks ("+t.bookmarkNumber+")":"No Bookmarks")+" ")],1)],1)],1),a("WebsiteSearchResults",{directives:[{name:"show",rawName:"v-show",value:"web"===e.searchMode||e.isSpecialMode,expression:"searchMode==='web' || isSpecialMode"}],attrs:{item:t}}),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-center"},[a("span",[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:"tag"===e.searchMode&&!e.isSpecialMode,expression:"searchMode==='tag' && !isSpecialMode"}],staticClass:"ma-2",attrs:{color:"#e95464","text-color":"white"},on:{click:function(a){return e.openTagSearch(t.tag,1)}}},[e._v(" "+e._s(t.tag)+" ("+e._s(t.number)+") ")])],1)])],1)],1)})),1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:e.currentPage>0&&e.totalCount>0,expression:"currentPage > 0 && totalCount > 0"}],attrs:{"align-content":"center"}},[a("v-col",[a("v-pagination",{attrs:{length:e.totalPage,circle:""},on:{input:function(t){return e.changePage(e.keyword,e.currentPage)}},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)],1)},mn=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-alert",{attrs:{prominent:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[e._v(" The Search-Engine Database has no "+e._s("user"===e.searchMode?"User":"web"===e.searchMode?"Bookmark":"Tag")+" Data for searching. You will NOT get any search results unless you Generate "+e._s("user"===e.searchMode?"User":"web"===e.searchMode?"Bookmark":"Tag")+" Data. Please "),a("a",{staticStyle:{color:"aliceblue"},attrs:{href:"javascript:void(0)"},on:{click:e.updateData}},[e._v("click here")]),e._v(" or the right button to Generate "+e._s("user"===e.searchMode?"User":"web"===e.searchMode?"Bookmark":"Tag")+" Data. ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{staticClass:"text-none",on:{click:e.updateData}},[e._v("Generate")])],1)],1)],1)},vn=[],gn={name:"AlertWhenNoData",props:{updateData:{},searchMode:{}}},pn=gn,fn=Object(c["a"])(pn,hn,vn,!1,null,null,null),wn=fn.exports;d()(fn,{VAlert:S["a"],VBtn:v["a"],VCol:ee["a"],VRow:ae["a"]});var bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"text-none",attrs:{block:"",color:"orange",outlined:"",rounded:""},on:{click:e.updateData}},[a("v-icon",[e._v("mdi-cached")]),a("span",[e._v("Detected Data Changes... Click here to Update Data")])],1)},kn=[],yn={name:"AlertWhenDataHasChanges",props:{updateData:{}}},xn=yn,Cn=Object(c["a"])(xn,bn,kn,!1,null,null,null),_n=Cn.exports;d()(Cn,{VBtn:v["a"],VIcon:g["a"]});var Pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!0===e.tagMode,expression:"tagMode === true"}],staticClass:"text-none",attrs:{block:"",color:"#d0af4c"},on:{click:e.goBack}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),e._v(" You are now viewing tags. Click here to go back. ")],1),a("v-card",[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("v-card-title",{staticClass:"headline",domProps:{innerHTML:e._s(e.item.title)},on:{click:function(t){return e.openWebPage(e.item)}}}),a("v-card-subtitle",{domProps:{innerHTML:e._s(e.item.desc)},on:{click:function(t){return e.openWebPage(e.item)}}}),a("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.item.createTime,expression:"item.createTime"}]},[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.item.userName,expression:"item.userName"}],staticClass:"ma-2",attrs:{color:"#8AC007",label:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle-outline ")]),e._v(" "+e._s(e.item.userName)+" ")],1),a("v-chip",{staticClass:"ma-2",attrs:{color:"#8AC009",label:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-clock-outline ")]),e._v(" "+e._s(e._f("dateFormat")(e.item.createTime,"YYYY-MM-DD HH:mm"))+" ")],1)],1)],1),a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(t){return e.openWebPage(e.item)}}},[a("v-img",{attrs:{src:e.item.img}})],1)],1)]),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:e.tagMode,expression:"tagMode"}],staticStyle:{"margin-top":"20px","margin-bottom":"1%"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.tagMode,expression:"tagMode === true"}],staticClass:"text-center"},[a("v-row",{directives:[{name:"show",rawName:"v-show",value:e.currentUser===e.item.userName,expression:"currentUser === item.userName"}]},[a("v-col",{attrs:{align:"center"}},[a("v-text-field",{staticStyle:{"max-width":"30%","align-content":"center"},attrs:{label:"Apply a Tag",clearable:"","prepend-inner-icon":"mdi-send"},on:{"click:prepend-inner":function(t){return e.applyTag()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyTag()}},model:{value:e.newTag,callback:function(t){e.newTag=t},expression:"newTag"}})],1)],1),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showNoDataAlert,expression:"showNoDataAlert"}],attrs:{color:"#d0576b",dismissible:""}},[a("div",{staticStyle:{"text-align":"center"}},[e._v(" No Tags ")])]),e._l(e.tagsArray,(function(t){return a("span",[a("v-chip",{staticClass:"ma-2",attrs:{color:"#dc3023","text-color":"white"},on:{click:function(a){return e.goToTagSearchPage(t)}}},[e._v(" "+e._s(t)+" "),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.currentUser===e.item.userName,expression:"currentUser === item.userName"}],attrs:{right:""},on:{click:function(a){return a.stopPropagation(),e.deleteTag(t)}}},[e._v(" mdi-close ")])],1)],1)}))],2),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.tagMode,expression:"tagMode === true"}],staticStyle:{"text-align":"center",position:"absolute",bottom:"20px",margin:"auto",left:"0",right:"0"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1)}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1)}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)],1)},Tn=[],Sn={name:"WebsiteSearchResults",data:function(){return{tagMode:!1,tagsArray:[],newTag:"",currentPage:1,showNoDataAlert:!1}},props:{item:{},tagMode:{},previousPage:{},previousPageNum:{},currentUser:{}},methods:{changePage:function(e){-1===e&&1===this.currentPage||(this.currentPage+=e,this.getTags())},maxPageCheckAndReturnArrayHasNewValue:function(e){return null!==e&&0!==e.length||(this.noMoreData(),!1)},noMoreData:function(){this.currentPage>1?(this.currentPage-=1,alert("Last Page"),this.showNoDataAlert=!1):(this.tagsArray=[],this.showNoDataAlert=!0)},openWebPage:function(e){!0===this.tagMode?this.view(e):this.openLink(e)},openLink:function(e){var t="Title: "+e.title+"\nURL: "+e.url+"\n\nDo you want to open this website?";confirm(t)&&window.open(e.url,"_blank")},view:function(e){var t=this;this.axios.get("/view/count",{params:{webId:e.webId}}).then((function(a){var n,o="Title: "+e.title+"\nURL: "+e.url+"\nBookmarked By: "+e.userName+"\n\n";n=200===a.data.code?a.data.data:0,null!=n&&n>1&&(o+="Views: "+n+"\n\n"),null!=n&&1===n&&(o+="View: 1\n\n"),o+="Do you want to open this website?",confirm(o)&&t.jump(e.url,e.webId)})).catch((function(a){t.jump(e.url,e.webId)}))},jump:function(e,t){window.open(e,"_blank"),this.axios.get("/view?webId="+t)},goBack:function(){this.$router.push({path:this.previousPage,query:{currentPage:this.previousPageNum}})},goToTagSearchPage:function(e){this.$router.push({name:"tag-search",params:{searchingTag:e,formerItem:this.item,placeToGoBack:"bookmark"}})},deleteTag:function(e){var t=this;confirm("Do you want to delete this tag?")&&this.axios.delete("/tag",{params:{webId:this.item.webId,tagName:e}}).then((function(e){200===e.data.code&&t.getTags(),alert(e.data.msg)})).catch((function(e){2009===e.response.data.code?alert("You don't have permission to delete this tag: This is not your bookmark"):alert(e.response.data.msg)}))},applyTag:function(){var e=this,t=this.newTag;null!==t&&""!==t?this.axios.get("/tag/apply",{params:{webId:this.item.webId,tag:t}}).then((function(t){200===t.data.code&&""!==t.data.data?(alert("Success"),e.getTags()):alert("Please try again later...")})).catch((function(e){2009===e.response.data.code?alert("This is not your bookmark. You can only add tags for your own bookmark."):alert(e.response.data.msg)})).finally((function(){e.newTag=""})):alert("Please enter a tag")},getTags:function(){var e=this;this.axios.get("/tag",{params:{webId:this.item.webId,currentPage:this.currentPage}}).then((function(t){if(200===t.data.code){var a=t.data.data,n=e.maxPageCheckAndReturnArrayHasNewValue(a);!0===n&&(e.tagsArray=a,e.showNoDataAlert=!1)}else alert("No Public Tags"),e.goBack()})).catch((function(t){2013===t.response.data.code?e.noMoreData():alert(t.response.data.msg)}))}},watch:{tagMode:{handler:function(e,t){!0===e&&this.getTags()},immediate:!0}}},Nn=Sn,Vn=Object(c["a"])(Nn,Pn,Tn,!1,null,null,null),Dn=Vn.exports;d()(Vn,{VAlert:S["a"],VAvatar:Lt["a"],VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VCardSubtitle:V["b"],VCardTitle:V["d"],VChip:H["a"],VCol:ee["a"],VDivider:Ee["a"],VIcon:g["a"],VImg:Et["a"],VRow:ae["a"],VTextField:U["a"]});var Mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.processing,expression:"processing"}],staticStyle:{"margin-top":"1%","margin-bottom":"1%"},attrs:{color:"#b35c44",indeterminate:"",rounded:"",height:"30px"}},[a("div",{staticStyle:{size:"20px"}},[e._v(e._s(e.processing))])])},An=[],In={name:"ProcessingLinear",props:{processing:{}}},Bn=In,Un=Object(c["a"])(Bn,Mn,An,!1,null,null,null),jn=Un.exports;d()(Un,{VProgressLinear:B["a"]});var On=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-progress-linear",{attrs:{color:"orange",indeterminate:"",rounded:"",height:"30px"}},[a("div",{staticStyle:{size:"20px"}},[e._v("Searching....")])])},Rn=[],Ln={name:"SearchingLinear"},En=Ln,Fn=Object(c["a"])(En,On,Rn,!1,null,null,null),Wn=Fn.exports;d()(Fn,{VProgressLinear:B["a"]});var Hn={components:{SearchingLinear:Wn,ProcessingLinear:jn,WebsiteSearchResults:Dn,AlertWhenDataHasChanges:_n,AlertWhenNoData:wn,UserInfoList:Da},computed:{isSpecialMode:function(){return this.showBookmarks||this.searchingTag}},name:"Find",data:function(){return{hidden:!0,inputMsg:"",placeholderMsg:"",keyword:"",errorMsg:"",totalCount:-1,currentPage:0,totalPage:1,currentUser:"",items:"",trending:"",showTrending:!0,isSearching:!1,rangeFrom:"",rangeTo:"",numberRule:[function(e){return/^([0-9]*[1-9][0-9]*)?$/.test(e)||"Please enter a positive number"}],tiles:[{title:"Delete All Trending Searches",tId:"tags",icon:"mdi-tag-off-outline",color:"red lighten-1"},{title:"Generate (Update) Bookmark Data",tId:"gen",icon:"mdi-database-refresh",color:"green darken-2"},{title:"Delete All Bookmark Data",tId:"del",icon:"mdi-database-remove",color:"red darken-2"}],userTitles:[{title:"Update (Generate) User Data",tId:"updateUser",icon:"mdi-account-convert",color:"green lighten-1"},{title:"Delete All User Data",tId:"deleteAllUsers",icon:"mdi-account-off",color:"red lighten-1"}],tagTitles:[{title:"Update (Generate) Tag Data",tId:"updateTag",icon:"mdi-tag-outline",color:"green lighten-1"},{title:"Delete All Tag Data",tId:"deleteAllTags",icon:"mdi-delete-variant",color:"red lighten-1"}],hasUserData:!0,hasDb:!0,hasTags:!0,hasNewUpdate:!1,hasNewUserUpdate:!1,hasNewTagUpdate:!1,processing:"",searchMode:"web",showBookmarks:null,searchingTag:null}},methods:{openTagSearch:function(e,t){this.searchingTag=e,this.tagSearching(t)},tagSearching:function(e){var t=this;this.axios.get("/tag/search/"+this.searchingTag,{params:{currentPage:e}}).then((function(e){t.items=e.data.bookmarks,t.totalPage=e.data.totalPages})).catch((function(e){2013===e.response.data.code&&alert("No Bookmarks associated with this tag")}))},resetData:function(){this.items="",this.hidden=!0,this.inputMsg="",this.placeholderMsg="",this.keyword="",this.errorMsg="",this.totalCount=-1,this.currentPage=0,this.totalPage=1,this.isSearching=!1,this.rangeFrom="",this.rangeTo=""},changeSearchMode:function(e){var t=this;this.searchMode=e,this.resetData(),this.axios.get("/search/status?mode="+e).then((function(a){var n=a.data.exists,o=a.data.hasChanges;"user"===e?(t.hasUserData=n,t.hasNewUserUpdate=o):"web"===e?(t.hasDb=n,t.hasNewUpdate=o):"tag"===e&&(t.hasTags=n,t.hasNewTagUpdate=o)}))},delTrend:function(e,t){var a=this;confirm("Delete this Trending Tag?")&&this.axios.delete("/search/trending/"+e).then((function(e){!0===e.data.data?(alert("Deleted"),a.trending.splice(t,1)):alert("Can't delete it...")})).catch((function(e){2009===e.response.data.code?alert("You are now login as Guest: Guest can't delete trending searches\n\nPlease login as Standard User or Admin to delete trending searches"):alert("Something went wrong. Please try again later.")}))},delAllTrending:function(){var e=this;this.processing="Delete All Trending Searches.... Please wait a minute.",this.axios.delete("/search/trending").then((function(t){!0===t.data.data?(alert("Deleted"),e.trending=""):alert("Already Deleted")})).catch((function(e){2009===e.response.data.code?alert("You are now login as Guest: Guest can't delete trending searches\n\nPlease login as Standard User or Admin to delete trending searches"):alert("Something went wrong. Please try again later.")})).finally((function(){e.processing=""}))},moreOptions:function(e){"del"===e&&confirm("Are you sure you want to Delete All Bookmark Data?")&&this.deleteData("web"),"gen"===e&&confirm("Are you sure you want to Generate (Update) Bookmark Data?")&&this.genDb(),"tags"===e&&confirm("Are you sure you want to Delete All Trending Searches?")&&this.delAllTrending(),"updateUser"===e&&confirm("Are you sure you want to Update (Generate) User Data?")&&this.updateUserData(),"deleteAllUsers"===e&&confirm("Are you sure you want to Delete All User Data?")&&this.deleteData("user"),"updateTag"===e&&confirm("Are you sure you want to Update (Generate) Tag Data?")&&this.updateTagData(),"deleteAllTags"===e&&confirm("Are you sure you want to Delete All Tag Data?")&&this.deleteData("tag")},updateData:function(e){var t=this;this.axios.get("/search/build?mode="+e).then((function(a){!0===a.data.data?(alert("Success!"),"user"===e?t.hasUserData=!0:"web"===e?t.hasDb=!0:"tag"===e&&(t.hasTags=!0)):alert("Something went wrong. Please try again.")})).catch((function(e){5001===e.response.data.code&&alert(e.response.data.msg)})).finally((function(){t.processing=""}))},updateTagData:function(){this.hasNewTagUpdate=!1,this.processing="Updating Tag Data... Please wait a minute.",this.updateData("tag")},genDb:function(){this.hasNewUpdate=!1,this.processing="Generating Bookmark Data... Please wait a minute.",this.updateData("web")},updateUserData:function(){this.hasNewUserUpdate=!1,this.processing="Updating User Data... Please wait a minute.",this.updateData("user")},deleteData:function(e){var t=this,a="web"===e?"bookmark":e;this.processing="Deleting all "+a+" data.... Please wait a minute.",this.axios.delete("/search?mode="+e).then((function(a){1==a.data.data?(alert("Deleted"),"web"===e?t.hasDb=!1:"user"===e?t.hasUserData=!1:"tag"===e&&(t.hasTags=!1)):alert("Something went wrong. Please try again.")})).catch((function(e){var t=e.response.data.code,n=e.response.data.msg;5001===t?alert(n):2009===t?alert("Only Admin can delete "+a+" data.\n\nStandard user Or Guest can only generate or update data."):alert(n)})).finally((function(){t.processing=""}))},backToSearch:function(){this.showBookmarks=null,this.searchingTag=null,this.resetData()},checkoutBookmarks:function(e,t){t<1?alert("No Bookmarks"):(this.showBookmarks=e,this.checkOutUserBookmarks(1))},checkOutUserBookmarks:function(e){var t=this;this.axios.get("/bookmark/get/user/"+this.showBookmarks,{params:{currentPage:e}}).then((function(e){t.items=e.data.bookmarks,t.totalPage=e.data.totalPages}))},changePage:function(e,t){this.showBookmarks?this.checkOutUserBookmarks(t):this.searchingTag?this.tagSearching(t):this.searchRequest(e,t),document.body.scrollTop=0,document.documentElement.scrollTop=0},searchRequest:function(e,t){var a=this;""===e.trim()?alert("Please enter something..."):this.hasDb||"web"!==this.searchMode?this.hasUserData||"user"!==this.searchMode?this.hasTags||"tag"!==this.searchMode?(this.keyword!==e&&(t=1,this.currentPage=t),this.showTrending=!1,this.isSearching=!0,this.errorMsg="",this.axios.get("/search",{params:{currentPage:t,keyword:e,mode:this.searchMode,rangeTo:this.rangeTo,rangeFrom:this.rangeFrom}}).then((function(t){a.items=t.data.data.paginatedResults,a.totalPage=t.data.data.totalPage;var n=t.data.data.totalCount;0!==n&&n||(a.items=""),a.totalCount=n,a.keyword=e;var o=document.getElementById("inputField");o.blur(),a.isSearching=!1})).catch((function(e){a.processing="",a.errorMsg=e.response.data.msg,a.isSearching=!1,a.items="",a.totalCount=0,a.totalPage=0})),this.clearMessage(e)):alert("No Data to Search. Please Generate Tag Data."):alert("No Data to Search. Please Generate User Data."):alert("No Data to Search. Please Generate Bookmark Data.")},clearMessage:function(e){this.placeholderMsg=e},load:function(){var e=this;this.axios.get("/search/load").then((function(t){e.trending=t.data.trendingList,e.hasDb=t.data.dataStatus,e.hasNewUpdate=t.data.hasNewUpdate})).catch((function(e){5001===e.response.data.code?alert("Unable to connect to Search Engine."):alert("Something went wrong. Can't load this page.")}))}},created:function(){window.onload=function(){document.getElementById("myFindBtn").click()},this.load()}},$n=Hn,zn=Object(c["a"])($n,un,mn,!1,null,null,null),qn=zn.exports;d()(zn,{VBtn:v["a"],VCard:N["a"],VCardActions:V["a"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VExpandXTransition:M["b"],VIcon:g["a"],VPagination:ga["a"],VRow:ae["a"],VTab:w["a"],VTabs:b["a"],VTextField:U["a"]});var Yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center",staticStyle:{"margin-top":"6%"}},[a("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.deleting,expression:"!deleting"}],attrs:{justify:"center"}},[a("v-card",{ref:"form",staticClass:"text-center",attrs:{width:"50%"}},[e._v(" Confirm Deletion "),a("v-card-text",[a("p",[a("b",[e._v("Unexpected bad things will happen if you dont read this!")])]),a("p",[e._v(" This action cannot be undone. This will permanently delete your account "),a("a",[e._v(e._s(e.username))]),e._v(" and remove all your data. ")]),a("v-text-field",{staticStyle:{"margin-bottom":"4%"},attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.max],type:e.show?"text":"password",name:"input-10-1",label:"Please type your password to confirm",hint:"Type your password and click the 'Confirm' button",counter:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.deleteAccount(t)},"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"text-none",attrs:{color:"orange"},on:{click:e.deleteAccount}},[e._v("Confirm")])],1)],1)],1),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.deleting,expression:"deleting"}],attrs:{indeterminate:"",color:"orange",size:"500",width:"20"}},[a("p",{staticStyle:{color:"coral"}},[a("b",[e._v("Deleting Account: "+e._s(e.username))]),a("br"),a("br"),e._v(" Please wait a few minutes. ")])])],1)},Gn=[],Jn={name:"DeletingPage",data:function(){return{username:"",deleting:"",password:"",show:!1,rules:{required:function(e){return!!e||"Please type your password to continue."},min:function(e){return e.length>=8||"Password must be greater than 8 characters"},max:function(e){return e.length<=50||"Password must be less than 50 characters"}}}},methods:{deleteAccount:function(){var e=this;this.deleting=!0,this.axios.delete("/user",{params:{userName:this.username,password:this.password}}).then((function(t){200==t.data.code?(e.$router.push("/login"),alert("You account has been deleted")):2006==t.data.code?(alert(t.data.msg),document.getElementById("myUserBtn").click()):(alert(t.data.msg),e.$router.push("/login"))})).catch((function(t){2009==t.response.data.code?(alert("'"+e.username+"' is not your account. You can only delete your own account."),document.getElementById("myUserBtn").click()):2006==t.response.data.code?(alert(t.response.data.msg),location.reload()):(alert("Fail to delete for some reasons. Please try again later."),document.getElementById("myHomeBtn").click())})).finally((function(){e.deleting=!1}))}},created:function(){this.username=this.$route.params.username}},Xn=Jn,Zn=Object(c["a"])(Xn,Yn,Gn,!1,null,"6d791f6c",null),Kn=Zn.exports;d()(Zn,{VBtn:v["a"],VCard:N["a"],VCardText:V["c"],VProgressCircular:I["a"],VRow:ae["a"],VTextField:U["a"]});var Qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"border-radius":"25px",border:"2px solid #8AC007",padding:"20px"}},[e._l(e.selected,(function(t,n){return a("span",{key:n},[a("v-chip",{staticClass:"ma-2search",staticStyle:{margin:"1px"},attrs:{color:"green",outlined:"",label:""}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle-outline ")]),e._v(" "+e._s(t.userName)+" ")],1)],1)})),a("v-row",[a("v-col",{attrs:{cols:"12","order-lg":"6"}},[a("v-datetime-picker",{attrs:{label:"Select Datetime"},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}},[a("template",{slot:"dateIcon"},[a("v-icon",[e._v("mdi-calendar-clock")])],1),a("template",{slot:"timeIcon"},[a("v-icon",[e._v("mdi-clock")])],1)],2),a("v-datetime-picker",{attrs:{label:"Select Another Datetime"},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}},[a("template",{slot:"dateIcon"},[a("v-icon",[e._v("mdi-calendar-clock")])],1),a("template",{slot:"timeIcon"},[a("v-icon",[e._v("mdi-clock")])],1)],2)],1)],1),a("v-btn",{staticClass:"text-none",attrs:{rounded:"",color:"#8AC007",dark:""},on:{click:e.sendNewFilterRequest}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-send")]),e._v(" Find ")],1),a("v-divider",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{vertical:""}}),a("v-btn",{staticClass:"text-none",attrs:{rounded:"",color:"black",outlined:""},on:{click:function(t){e.showFilter=!e.showFilter}}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.showFilter?"mdi-arrow-down-thick":"mdi-filter-plus-outline"))]),e._v(" Select Users ")],1)],2),a("v-row",[a("v-divider",{staticStyle:{"margin-top":"20px","margin-bottom":"1%"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilter,expression:"showFilter"}]},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12"}},[a("v-text-field",{attrs:{"background-color":"#484848",dark:"","prepend-inner-icon":"mdi-magnify",label:"Search Username","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,dark:"","calculate-widths":"",height:"320px",headers:e.userHeaders,items:e.userToSelect,"item-key":"userName","show-select":"","single-select":e.singleSelect},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],staticStyle:{"text-align":"center"}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"success",outlined:""},on:{click:e.changeFilterOrder}},[a("v-icon",{attrs:{left:""}},[e._v(" "+e._s(this.ifDesc||this.ifOrderByTime?"":"mdi-sort-alphabetical-ascending")+" "),e._v(" "+e._s(!this.ifDesc&&this.ifOrderByTime?"mdi-sort-clock-ascending-outline":"")+" "),e._v(" "+e._s(this.ifDesc&&!this.ifOrderByTime?"mdi-sort-alphabetical-descending":"")+" "),e._v(" "+e._s(this.ifDesc&&this.ifOrderByTime?"mdi-sort-clock-descending-outline":"")+" ")]),e._v(" "+e._s(this.ifDesc||this.ifOrderByTime?"":"Username - Ascend")+" "),e._v(" "+e._s(!this.ifDesc&&this.ifOrderByTime?"Time - Ascend":"")+" "),e._v(" "+e._s(this.ifDesc&&!this.ifOrderByTime?"Username - Descend":"")+" "),e._v(" "+e._s(this.ifDesc&&this.ifOrderByTime?"Time - Descend":"")+" ")],1)],1)],1)},eo=[],to=a("b85c"),ao=a("c1df"),no=a.n(ao),oo={name:"FilterWebsiteData",data:function(){return{userToSelect:[],showFilter:!0,selected:[],singleSelect:!1,userHeaders:[{text:"Username",align:"start",sortable:!1,value:"userName"},{text:"Bookmark(s)",value:"bookmarkNumber"}],search:"",count:0,ifOrderByTime:!0,ifDesc:!1,fromDate:"",toDate:""}},props:{userToSelect:{type:Array,required:!0},count:{type:Number,required:!0}},methods:{changeFilterOrder:function(){this.ifDesc||this.ifOrderByTime?this.ifDesc&&!this.ifOrderByTime?(this.ifDesc=!0,this.ifOrderByTime=!0):this.ifDesc&&this.ifOrderByTime?(this.ifDesc=!1,this.ifOrderByTime=!0):(this.ifDesc=!1,this.ifOrderByTime=!1):(this.ifDesc=!0,this.ifOrderByTime=!1),this.sendNewFilterRequest()},sendNewFilterRequest:function(){this.showFilter=!1;var e,t=[],a=Object(to["a"])(this.selected);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(n.userName)}}catch(r){a.e(r)}finally{a.f()}var o=[];if(null!=this.fromDate&&""!==this.fromDate){var s=no()(this.fromDate).local(!0);o.push(s)}if(null!=this.toDate&&""!==this.toDate){var i=no()(this.toDate).local(!0);o.push(i)}this.$emit("filterNewRequestSend",t,o,this.ifOrderByTime,this.ifDesc)}}},so=oo,io=a("8fea"),ro=Object(c["a"])(so,Qn,eo,!1,null,"7b004616",null),co=ro.exports;d()(ro,{VBtn:v["a"],VChip:H["a"],VCol:ee["a"],VDataTable:io["a"],VDivider:Ee["a"],VIcon:g["a"],VRow:ae["a"],VTextField:U["a"]});var lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",{attrs:{"fixed-tabs":"","background-color":"#474a4d",color:"white","slider-color":"#e0ebaf"}},[a("v-tab",{staticClass:"text-none",on:{click:function(t){return e.goToAdminPage(!1)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-account-box ")]),e._v(" Me ")],1),a("v-tab",{staticClass:"text-none",on:{click:function(t){return e.goToAdminPage(!0)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-head-cog ")]),e._v(" Admin ")],1)],1),a("my-page",{directives:[{name:"show",rawName:"v-show",value:!e.viewAdmin,expression:"!viewAdmin"}],attrs:{"get-system-notifications":e.showOrCloseNotice}}),a("admin",{directives:[{name:"show",rawName:"v-show",value:e.viewAdmin,expression:"viewAdmin"}],attrs:{"get-system-notifications":e.showOrCloseNotice}}),a("v-snackbar",{attrs:{vertical:""},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[a("span",{domProps:{innerHTML:e._s(e.notice)}})])],1)},uo=[],mo={name:"UserPage",data:function(){return{viewAdmin:!1,snackbar:!1,notice:""}},components:{Admin:Me,MyPage:dn},methods:{goToAdminPage:function(e){this.viewAdmin=e},showOrCloseNotice:function(){this.snackbar=!this.snackbar,!0===this.snackbar&&this.getNotify()},getNotify:function(){var e=this;this.axios.get("/system").then((function(t){e.notice=t.data.data}))}},created:function(){window.onload=function(){document.getElementById("myUserBtn").click()}}},ho=mo,vo=a("2db4"),go=Object(c["a"])(ho,lo,uo,!1,null,"c4c4f858",null),po=go.exports;d()(go,{VBtn:v["a"],VIcon:g["a"],VSnackbar:vo["a"],VTab:w["a"],VTabs:b["a"]});var fo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{dense:""}},[a("v-btn",{staticClass:"text-none",attrs:{block:"",color:"#d0af4c"},on:{click:e.goBack}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),e._v(" Click here to go back ")],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-btn",{staticClass:"text-none",attrs:{block:"",color:"#a2d7dd"},on:{click:e.goBack}},[e._v(" Viewing bookmarks associated with: "+e._s(this.searchingTag)+" ")])],1)],1),a("v-row",{attrs:{dense:""}},[e._l(e.items,(function(e,t){return a("v-col",{key:t,attrs:{cols:"12"}},[a("WebsiteSearchResults",{attrs:{item:e}})],1)})),a("v-col",[a("div",{directives:[{name:"show",rawName:"v-show",value:this.items.length>1,expression:"this.items.length > 1"}],staticStyle:{"text-align":"center",position:"absolute",bottom:"20px",margin:"auto",left:"0",right:"0"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1)}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1)}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)])],2),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.items.length,expression:"items.length === 0"}],staticStyle:{"text-align":"center",position:"absolute",bottom:"60%",margin:"auto",left:"0",right:"0"},attrs:{outlined:"",color:"#d0576b",dismissible:""}},[a("div",{staticStyle:{"text-align":"center"}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-alert-circle-outline")]),e._v(" You are not allowed to view private bookmarks ")],1)])],1)},wo=[],bo={components:{WebsiteSearchResults:Dn},data:function(){return{items:[],formerItem:[],searchingTag:"",currentPage:1}},methods:{goBack:function(){var e=this.placeToGoBack;"bookmark"===e&&this.backToBookmarkWithTags(),"all tags"!==e&&"popular tags"!==e||this.$router.push({path:"all-tags",query:{showMode:e}}),"findPageSearchTag"===e&&this.$router.push({path:"find",query:{keyword:this.formerItem.keyword,currentPage:this.formerItem.currentPage}})},backToBookmarkWithTags:function(){this.$router.push({name:"web",params:{item:this.formerItem,tagMode:!0,previousPage:"home"}})},changePage:function(e){-1===e&&1===this.currentPage||(this.currentPage+=e,this.getBookmarksByTagName())},maxPageCheckAndReturnArrayHasNewValue:function(e){return null!==e&&0!==e.length||(this.noMoreData(),!1)},noMoreData:function(){this.currentPage>1?(this.currentPage-=1,alert("Last Page")):this.items=[]},getBookmarksByTagName:function(){var e=this;this.axios.get("/tag/search",{params:{tagName:this.searchingTag,currentPage:this.currentPage}}).then((function(t){var a=t.data,n=e.maxPageCheckAndReturnArrayHasNewValue(a);!0===n&&(e.items=a)})).catch((function(t){2013===t.response.data.code?e.noMoreData():document.getElementById("myHomeBtn").click()}))}},props:{searchingTag:{},formerItem:{},placeToGoBack:{}},watch:{searchingTag:{handler:function(e,t){""!==e&&this.getBookmarksByTagName()},immediate:!0}}},ko=bo,yo=Object(c["a"])(ko,fo,wo,!1,null,"03e1abb0",null),xo=yo.exports;d()(yo,{VAlert:S["a"],VBtn:v["a"],VCol:ee["a"],VIcon:g["a"],VRow:ae["a"]});var Co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{dense:""}},[a("v-btn",{staticClass:"text-none",attrs:{large:"",block:"",color:"#d0af4c"},on:{click:e.backToHome}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),e._v(" You are now viewing "),a("v-icon",{attrs:{small:""}},[e._v(" "+e._s("popular tags"===e.showing?"mdi-fire":"mdi-tag-multiple-outline")+" ")]),a("span",{staticStyle:{"margin-left":"1px"},style:"popular tags"===e.showing?"color: #bf242a":"color: #9e3d3f"},[e._v(" "+e._s(e.showing)+" ")]),a("v-icon",{attrs:{small:""}},[e._v(" "+e._s("popular tags"===e.showing?"mdi-fire":"mdi-tag-multiple-outline")+" ")]),e._v(" . Click here to go back "),a("v-icon",[e._v("mdi-home-outline")])],1)],1),a("v-row",{staticStyle:{"margin-bottom":"2%"},attrs:{dense:""}},[a("v-btn",{staticClass:"text-none",attrs:{"x-large":"",block:"",color:"popular tags"===e.notShowing?"#ce5242":"#c85554"},on:{click:e.changeShowMode}},[a("v-icon",{attrs:{large:"",left:""}},[e._v(" "+e._s("popular tags"===e.notShowing?"mdi-fire":"mdi-tag-multiple-outline")+" ")]),e._v(" Click here to view "+e._s(e.notShowing)+" "),a("v-icon",{attrs:{large:"",right:""}},[e._v(" "+e._s("popular tags"===e.notShowing?"mdi-fire":"mdi-tag-multiple-outline")+" ")])],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-center"},[e._l(e.allTagsArray,(function(t){return a("span",{directives:[{name:"show",rawName:"v-show",value:"all tags"===e.showing,expression:"showing === 'all tags'"}]},[a("v-chip",{staticClass:"ma-2",attrs:{color:"#ee827c",outlined:"","text-color":"#f0908d"},on:{click:function(a){return e.goToTagSearchPage(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),e._l(e.poplarTagsArray,(function(t){return a("span",{directives:[{name:"show",rawName:"v-show",value:"popular tags"===e.showing,expression:"showing === 'popular tags'"}]},[a("v-chip",{staticClass:"ma-2",attrs:{color:"#e95464","text-color":"white"},on:{click:function(a){return e.goToTagSearchPage(t.tag)}}},[e._v(" "+e._s(t.tag)+" ("+e._s(t.number)+") ")])],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:"popular tags"===e.showing&&1===e.currentPage&&0===e.poplarTagsArray.length,expression:"showing === 'popular tags'\n          && currentPage === 1\n          && poplarTagsArray.length === 0"}]},[a("v-alert",{attrs:{color:"#f2f2b0"},on:{click:e.changeShowMode}},[a("div",{staticStyle:{"text-align":"center"}},[a("v-icon",[e._v(" mdi-emoticon-sad-outline ")]),e._v(" No Popular Tags ")],1)]),a("div",{staticStyle:{"font-size":"small"}},[e._v(" * Popular Tags: Tags that are used more than once ")])],1),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:"all tags"===e.showing&&1===e.currentPage&&0===e.allTagsArray.length,expression:"showing === 'all tags'\n          && currentPage === 1\n          && allTagsArray.length === 0"}],attrs:{color:"#f2f2b0"},on:{click:e.backToHome}},[a("div",{staticStyle:{"text-align":"center"}},[a("v-icon",[e._v(" mdi-emoticon-sad-outline ")]),e._v(" No Public Tags ")],1)])],2),a("div",{staticStyle:{"text-align":"center",position:"absolute",bottom:"20px",margin:"auto",left:"0",right:"0"}},[a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(-1)}}},[a("v-icon",[e._v("mdi-skip-previous")])],1),a("input",{staticStyle:{width:"30px",height:"30px","text-align":"center",border:"solid grey"},attrs:{placeholder:e.currentPage,readonly:"readonly"}}),a("v-btn",{attrs:{small:"",rounded:""},on:{click:function(t){return e.changePage(1)}}},[a("v-icon",[e._v("mdi-skip-next")])],1)],1)],1)],1)},_o=[],Po={name:"AllTags",data:function(){return{allTagsArray:[],poplarTagsArray:[],showing:"all tags",notShowing:"popular tags",currentPage:1}},methods:{backToHome:function(){document.getElementById("myHomeBtn").click()},changePage:function(e){-1===e&&1===this.currentPage||(this.currentPage+=e,"popular tags"===this.showing&&this.openPopularTags(),"all tags"===this.showing&&this.openAllTags())},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,alert("Last Page"))},openPopularTags:function(){this.showing="popular tags",this.notShowing="all tags",this.getPopularTags()},openAllTags:function(){this.showing="all tags",this.notShowing="popular tags",this.getAllTags()},changeShowMode:function(){this.currentPage=1,"all tags"===this.showing?this.openPopularTags():this.openAllTags()},goToTagSearchPage:function(e){this.$router.push({name:"tag-search",params:{searchingTag:e,formerItem:[],placeToGoBack:this.showing}})},getPopularTags:function(){var e=this;this.axios.get("/tag/popular?currentPage="+this.currentPage).then((function(t){200===t.data.code?e.poplarTagsArray=t.data.data:(alert("No Tags"),e.backToHome())})).catch((function(t){2013===t.response.data.code?1===e.currentPage?e.poplarTagsArray=[]:e.lastPage():e.backToHome()}))},getAllTags:function(){var e=this;this.axios.get("/tag?currentPage="+this.currentPage).then((function(t){200===t.data.code?e.allTagsArray=t.data.data:(alert("No Tags"),e.backToHome())})).catch((function(t){2013===t.response.data.code?1===e.currentPage?e.allTagsArray=[]:e.lastPage():alert(t.response.data.msg)}))}},created:function(){var e=this.$route.query.showMode;"popular tags"===e?(this.showing="popular tags",this.notShowing="all tags",this.getPopularTags()):this.getAllTags()}},To=Po,So=Object(c["a"])(To,Co,_o,!1,null,"f23179c2",null),No=So.exports;d()(So,{VAlert:S["a"],VBtn:v["a"],VChip:H["a"],VCol:ee["a"],VIcon:g["a"],VRow:ae["a"]});var Vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BackToHomeButton",{attrs:{msg:"You are filtering bookmarks. "}}),a("v-container",{staticClass:"mx-auto"},[a("FilterWebsiteData",{attrs:{"user-to-select":e.userToSelect,count:e.count},on:{filterNewRequestSend:e.filterNewRequestSend}}),e._l(e.items,(function(e,t){return a("v-col",{key:t,attrs:{cols:"12"}},[a("WebsiteSearchResults",{attrs:{item:e}})],1)})),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showMoreBtn,expression:"showMoreBtn"}],attrs:{block:"",color:"yellow"},on:{click:e.filterSendRequest}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-refresh ")]),e._v(" More ")],1)],2),a("ToTopButton")],1)},Do=[],Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"text-none",staticStyle:{"margin-bottom":"5px"},attrs:{large:"",block:"",color:"#80989b"},on:{click:e.backToHome}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-backspace ")]),e._v(" "+e._s(e.msg)+" Click here to go back "),a("v-icon",[e._v("mdi-home-outline")])],1)},Ao=[],Io={name:"BackToHomeButton",methods:{backToHome:function(){document.getElementById("myHomeBtn").click()}},props:{msg:{}}},Bo=Io,Uo=Object(c["a"])(Bo,Mo,Ao,!1,null,null,null),jo=Uo.exports;d()(Uo,{VBtn:v["a"],VIcon:g["a"]});var Oo={name:"FilterPage",components:{ToTopButton:pt,BackToHomeButton:jo,WebsiteSearchResults:Dn,FilterWebsiteData:co},data:function(){return{items:[],userToSelect:[],filterLoad:10,count:0,usernames:[],dates:[],ifOrderByTime:!1,ifDesc:!1}},methods:{loadAllUser:function(){var e=this;this.axios.post("/user/usernames-and-bookmarks").then((function(t){e.userToSelect=t.data}))},filterNewRequestSend:function(e,t,a,n){this.filterLoad=10,this.count=0,this.usernames=e,this.dates=t,this.ifOrderByTime=a,this.ifDesc=n,this.filterSendRequest()},filterSendRequest:function(){var e=this,t={usernames:this.usernames},a=null,n=null,o=this.dates[0];void 0!==o&&(a=no()(o).valueOf());var s=this.dates[1];void 0!==s&&(n=no()(s).valueOf()),this.axios.post("/home/filter",t,{params:{fromTimestamp:a,toTimestamp:n,load:this.filterLoad,orderField:this.ifOrderByTime?"creation_time":"user_name",order:this.ifDesc?"desc":"asc"}}).then((function(t){var a=t.data;e.items=a;var n=a.length;0===n?(alert("No Result Found..."),e.filterLoad=10,e.count=0):n===e.count?alert("No More Results"):(e.count=n,e.filterLoad+=10)}))}},computed:{showMoreBtn:function(){return 0!==this.count&&this.count%10===0}},created:function(){this.loadAllUser()}},Ro=Oo,Lo=Object(c["a"])(Ro,Vo,Do,!1,null,null,null),Eo=Lo.exports;d()(Lo,{VBtn:v["a"],VCol:ee["a"],VContainer:D["a"],VIcon:g["a"]});var Fo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BackToHomeButton",{attrs:{msg:"You are viewing popular bookmarks. "}}),a("v-container",{staticClass:"mx-auto"},[a("v-row",{attrs:{dense:""}},e._l(e.items,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("v-card-title",{staticClass:"headline",domProps:{textContent:e._s(t.title)},on:{click:function(a){return e.jump(t.url)}}}),a("v-card-subtitle",{domProps:{textContent:e._s(t.desc)}}),a("v-card-actions",[a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"green",outlined:""},on:{click:function(a){return e.mark(t)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-heart-plus ")]),e._v(" Add ")],1),a("v-chip",{staticStyle:{"margin-right":"3px"},attrs:{color:"#bf783a",outlined:""},on:{click:function(a){return e.jump(t.url)}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-link-variant ")]),e._v(" View ")],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("div",{staticStyle:{color:"grey"}},[e._v("Saved by "+e._s(t.count)+" user"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.count>1,expression:"item.count > 1"}]},[e._v("s")])])],1)],1),a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(a){return e.jump(t.url)}}},[a("v-img",{attrs:{src:t.img}})],1)],1)])],1)})),1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:0!==e.totalPage,expression:"totalPage !== 0"}],attrs:{"align-content":"center"}},[a("v-col",[a("v-pagination",{attrs:{length:e.totalPage,circle:""},on:{input:function(t){return e.loadHome(e.currentPage)}},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),a("NoDataInHomePage",{attrs:{"total-page":e.totalPage}})],1),a("ToTopButton")],1)},Wo=[],Ho={name:"PopularBookmarks",components:{NoDataInHomePage:xt,ToTopButton:pt,BackToHomeButton:jo},data:function(){return{items:[],currentPage:1,totalPage:1}},methods:{jump:function(e){window.open(e,"_blank")},mark:function(e){var t=this;if(confirm("Add it to your Bookmarks?")){var a={title:e.title,url:e.url,img:e.img,desc:e.desc};this.axios.post("/bookmark",a).then((function(e){alert(e.data.msg),200===e.data.code&&(t.refreshShow=!0)})).catch((function(e){2010===e.response.data.code&&alert(e.response.data.msg)}))}},loadHome:function(e){var t=this;this.axios.get("/home/popular",{params:{currentPage:e}}).then((function(e){t.items=e.data.bookmarks,t.totalPage=e.data.totalPages,t.totalPage<t.currentPage&&0!==t.totalPage&&(t.currentPage=t.totalPage,t.loadHome(t.currentPage)),document.body.scrollTop=0,document.documentElement.scrollTop=0}))}},created:function(){this.loadHome(1)}},$o=Ho,zo=Object(c["a"])($o,Fo,Wo,!1,null,"1998b983",null),qo=zo.exports;d()(zo,{VAvatar:Lt["a"],VCard:N["a"],VCardActions:V["a"],VCardSubtitle:V["b"],VCardTitle:V["d"],VChip:H["a"],VCol:ee["a"],VContainer:D["a"],VDivider:Ee["a"],VIcon:g["a"],VImg:Et["a"],VPagination:ga["a"],VRow:ae["a"]}),n["a"].use(x["a"]);var Yo=[{path:"/",redirect:"/home"},{path:"/login",component:R},{path:"/register",component:z},{path:"/admin",component:Me},{path:"/home",component:fa},{path:"/mypage",component:dn},{path:"/find",component:qn},{path:"/delete/:username",component:Kn},{path:"/comment",component:Ke},{path:"/replyToThisComment",component:We},{path:"/filterWebsiteData",component:co},{path:"/myPageTop",component:Ya},{path:"/myPageNotification",component:Qa},{path:"/userInfoList",component:Da},{path:"/user",component:po},{path:"/web",component:Dn,name:"web",props:!0},{path:"/tag-search",component:xo,name:"tag-search",props:!0},{path:"/all-tags",component:No},{path:"/filter",component:Eo},{path:"/popular",component:qo}],Go=new x["a"]({routes:Yo}),Jo=Go,Xo=a("f309");n["a"].use(Xo["a"]);var Zo=new Xo["a"]({}),Ko=a("bc3a"),Qo=a.n(Ko),es=a("2106"),ts=a.n(es),as=a("ad24");n["a"].config.productionTip=!1,n["a"].use(ts.a,Qo.a),n["a"].use(as["a"]),n["a"].filter("dateFormat",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return no()(e).format(t)})),Qo.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",Qo.a.defaults.timeout=1e4,Qo.a.defaults.withCredentials=!0,Qo.a.defaults.baseURL="/",Qo.a.interceptors.request.use((function(e){var t=localStorage.getItem("tokenName"),a=localStorage.getItem("tokenValue");return void 0!=t&&""!=t&&(e.headers[t]=a),e}),(function(e){return Promise.reject(e)})),Qo.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.response.data.code;return 2005===t?Jo.push("/login"):Promise.reject(e)})),new n["a"]({router:Jo,vuetify:Zo,render:function(e){return e(y)}}).$mount("#app")},a25b:function(e,t,a){"use strict";a("3bd3")}});
//# sourceMappingURL=app.d9e1187e.js.map